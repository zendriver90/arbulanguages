<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Selection</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #polski,
        #angielski,
        #british {
            font-size: 10px;
            position: absolute;
            z-index: 9999;
            color: white;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        .flag-container {
            display: flex;
            margin-bottom: 20px;
        }

        .flag-container div {
            cursor: pointer;
            border: 3px solid transparent;
            padding: 10px;
            transition: border-color 0.3s ease;
        }

        .flag-container div.selected {
            border-color: #007BFF;
        }

        video {
            width: auto;
            position: relative;
            height: 200px;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1.2rem;
            cursor: pointer;
            display: none; /* Ukryty przycisk, pojawi się po wyborze języka */
        }
        #start-btn {
            justify-content: center;
            align-items: center;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Wybierz swój ojczysty język: / My mother language: </h2>

        <!-- Pojemnik na flagi ojczystych języków -->
        <div class="flag-container" id="native-language-container">
            <div data-language="pl">
                <div id="polski">Polski</div>
                <video autoplay loop muted>
                    <source src="start/Poland.mp4" type="video/mp4">
                    Twój przeglądarka nie obsługuje elementu video.
                </video>
            </div>
            <div data-language="en">
                <div id="angielski">American English</div>
                <video autoplay loop muted>
                    <source src="start/USA.mp4" type="video/mp4">
                    Twój przeglądarka nie obsługuje elementu video.

                </video>
            </div>
                        <div data-language="br">
                <div id="british">British English</div>
                <video autoplay loop muted>
                    <source src="start/England.mp4" type="video/mp4">
                    Twój przeglądarka nie obsługuje elementu video.

                </video>
            </div>
        </div>

        <div id="language-options" class="hidden">
            <h2>Wybierz język do nauki: / Select a language to learn:/</h2>
            <!-- Pojemnik na flagi języków do nauki -->
            <div class="flag-container" id="learn-language-container">
                <!-- Opcje języków do nauki zostaną załadowane dynamicznie -->
            </div>
        </div>

        <button id="start-btn">START</button>
    </div>

    <script>
        const nativeLanguageContainer = document.getElementById('native-language-container');
        const learnLanguageContainer = document.getElementById('learn-language-container');
        const languageOptionsDiv = document.getElementById('language-options');
        const startBtn = document.getElementById('start-btn');
        let selectedNativeLanguage = '';
        let selectedLearnLanguage = '';

        // Zdefiniowane języki i flagi
        const flags = {
            pl: 'start/Poland.mp4',
            en: 'start/USA.mp4',
            br: 'start/England.mp4',
            es: 'start/Spain.mp4'
        };

        // Kliknięcie na flagę ojczystego języka
        nativeLanguageContainer.addEventListener('click', function(e) {
            const clickedElement = e.target.closest('div[data-language]');
            if (clickedElement) {
                // Usuń zaznaczenie ze wszystkich
                Array.from(nativeLanguageContainer.children).forEach(child => {
                    child.classList.remove('selected');
                });

                // Zaznacz wybrany język
                clickedElement.classList.add('selected');
                selectedNativeLanguage = clickedElement.getAttribute('data-language');
                
                // Pokaż opcje nauki języka w zależności od wybranego ojczystego języka
                loadLearningOptions(selectedNativeLanguage);
                languageOptionsDiv.classList.remove('hidden');
            }
        });

        // Kliknięcie na flagę języka do nauki
        learnLanguageContainer.addEventListener('click', function(e) {
            const clickedElement = e.target.closest('div[data-language]');
            if (clickedElement) {
                // Usuń zaznaczenie ze wszystkich
                Array.from(learnLanguageContainer.children).forEach(child => {
                    child.classList.remove('selected');
                });

                // Zaznacz wybrany język
                clickedElement.classList.add('selected');
                selectedLearnLanguage = clickedElement.getAttribute('data-language');

                // Pokaż przycisk START
                startBtn.style.display = 'block';
            }
        });

        // Funkcja ładowania opcji języków do nauki
        function loadLearningOptions(nativeLanguage) {
            learnLanguageContainer.innerHTML = ''; // Resetowanie zawartości
            let languageOptions = [];

            if (nativeLanguage === 'pl') {
                languageOptions = [
                    { value: 'en', text: 'Angielski', video: flags['en'] },
                    { value: 'es', text: 'Hiszpański', video: flags['es'] }
                ];
            } else if (nativeLanguage === 'en') {
                languageOptions = [
                    { value: 'es', text: 'Spanish', video: flags['es'] }
                ];
            } else if (nativeLanguage === 'br') {
                languageOptions = [
                    { value: 'es', text: 'Spanish', video: flags['es'] }
                ];
            }

            // Tworzenie opcji wideo dla każdego języka
            languageOptions.forEach(option => {
                const div = document.createElement('div');
                div.setAttribute('data-language', option.value);
                div.innerHTML = `
                    <video autoplay loop muted>
                        <source src="${option.video}" type="video/mp4">
                        Twój przeglądarka nie obsługuje elementu video.
                    </video>
                    <p>${option.text}</p>
                `;
                learnLanguageContainer.appendChild(div);
            });
        }

        // Funkcja obsługi przycisku START
        startBtn.addEventListener('click', function() {
            let link = '';

            if (selectedNativeLanguage === 'pl' && selectedLearnLanguage === 'en') {
                link = 'matrix.html';
            } else if (selectedNativeLanguage === 'pl' && selectedLearnLanguage === 'es') {
                link = 'matrix2.html';
            } else if (selectedNativeLanguage === 'en' && selectedLearnLanguage === 'es') {
                link = 'matrix3.html';
            } else if (selectedNativeLanguage === 'br' && selectedLearnLanguage === 'es') {
                link = 'matrix3.html';
            }

            if (link) {
                window.location.href = link;
            }
        });
    </script>
</body>
</html>
