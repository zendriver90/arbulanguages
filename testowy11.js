const fiszki = [
{
id: [
        1,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "I want to learn Spanish very quickly",
        translateb: "[yoh kee-eh-roh ah-pren-dehr es-pah-nyol moo-ee rah-pee-doh]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/language2.mp4", 'Crank 2'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/language2.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "I am from New <u><b>Yo</u></b>rk, so wherever <u><b>I</u></b> am, <u><b>I</u></b> represent New <u><b>Yo</u></b>rk."
        ],
        // opis
        desc: "yo[yoh] - wszyscy",
        //zdanie
        sentence1: [
                "Yo"
        ],
        sentence: [
                "Yo",
                "quiero",
                "aprender",
                "espanol"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        2,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "I <u><b>want</u></b> to bake cookies and find a <u><b>key</u></b> which is recipe, but the oven has an <u><b>er</u></b>ror, so I need to buy a oven <u><b>ro</u></b>bot."
        ],
        // opis
        desc: "quiero[kee-eh-roh] - want",
        //zdanie
        sentence1: [
                "quiero"
        ],
        sentence: [
                "Yo",
                "quiero",
                "aprender",
                "espanol"
        ],
        //  slowo do nauki
        key: "quiero",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        3,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "I bought an application to rent a house and I am learning how to use it. I'm old, but I‚Äôm not afraid to use new technologies."
        ],
        // opis
        desc: "aprender[ah-pren-dehr] - learn",
        //zdanie
                sentence1: [
                "aprender"
        ],
                sentence: [
                "Yo",
                "quiero",
                "aprender",
                "espanol"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        4,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "I have a <u><b>Spanish</u></b> girlfriend, her presence is <u><b>ess</u></b>ential and a <u><b>pa</u></b>rt of my life. I like her compa<u><b>ni</u></b>on, and everything <u><b>all</u></b> makes me happy."
        ],
        // opis
        desc: "espanol[es-pah-nyol] - spanish",
        //zdanie
                sentence1: [
                "espanol"
        ],
                sentence: [
                "Yo",
                "quiero",
                "aprender",
                "espanol"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        5,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "The cow ate a lot of chocolate and made a lot of <b><u>'moo'</b></u> sounds in bu<b><u>i</b></u>lding"
        ],
        // opis
        desc: "muy[moo-ee] - very",
        //zdanie
        sentence2: [
                "muy"
        ],
        sentence: [
                "muy",
                "rapido"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        6,
        1
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "<u><b>Ra</u></b>mzes in the <u><b>pi</u></b>cture is quickly going through the bathroom <u><b>doo</u></b>r because he needs to pee"
        ],
        // opis
        desc: "rapido[rah-pee-doh] - fast",
        //zdanie
        sentence2: [
                "rapido"
        ],
        sentence: [
                "muy",
                "rapido"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        7,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "A plan is a method or way of doing something",
        translateb: "[oon plahn es oon meh-toh-doh oh mah-neh-rah deh ah-ser ahl-goh]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/planning.mp4", 'Titanic'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/planning.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "Gro<b><u>un</b></u>d is <b><u>plan</b></u>"
        ],
        // opis
        desc: "un plan[oon plahn] - plan",
        //zdanie
        sentence1: [
                "Un plan"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        8,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "Different styl<b><u>es</b></u> of dr<b><u>ess</b></u>ing are a way of expr<b><u>ess</b></u>ing personality."
        ],
        // opis
        desc: "es[es] - is",
        //zdanie
        sentence1: [
                "is"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        9,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "Listening to so<b><u>un</b></u>ds is a <b><u>method</b></u> of staying calm so.. dont w<b><u>o</b></u>rry"
        ],
        // opis
        desc: "un metodo[oon meh-toh-doh] - method",
        //zdanie
        sentence1: [
                "un metodo"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        10,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "A <b><u>way</b></u> to <b><u>man</b></u>ifest skills is to work hard without being int<b><u>err</b></u>upted, or just sit on the sof<b><u>a</b></u>"
        ],
        // opis
        desc: "o manera[oh mah-neh-rah] - way",
        //zdanie
        sentence1: [
                "o manera"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        11,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "<b><u>The</b></u> act of doing is a way <b><u>of</b></u> meditation"
        ],
        // opis
        desc: "de[deh] - of",
        //zdanie
        sentence1: [
                "de"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        12,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "As I learned from <b><u>Sir</b></u> Robert."
        ],
        // opis
        desc: "hacer[ah-ser] - do/make",
        //zdanie
        sentence1: [
                "hacer"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        13,
        2
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "<b><u>A</b></u>nn uses <b><u>something</b></u> like the element <b><u>g</b></u>allium to prepare for g<b><u>o</b></u>ing to space"
        ],
        // opis
        desc: "algo[ahl-goh] - something",
        //zdanie
        sentence1: [
                "algo"
        ],
        sentence: [
                "Un plan",
                "es",
                "un metodo",
                "o manera",
                "de",
                "hacer",
                "algo"
        ],
        //  slowo do nauki
        key: "everybody",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        14,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "She is reading an interesting book now",
        translateb: "[eh-yah es-tah leh-yen-doh oon lee-broh in-teh-reh-sahn-teh ah-oh-rah]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/interestingbook.mp4", 'Titanic'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/interestingbook.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "sens<b><u>ei</b></u> can s<b><u>o</b></u>mehow afford to meet a beautiful girl"
        ],
        // opis
        desc: "Ella[eh-yah] - they",
        //zdanie
        sentence1: [
                "Ella"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        15,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                "In moon<b><u>ly</b></u> saturday i <b><u>read</b></u> great book"
        ],
        // opis
        desc: "est√°[es-tah] - is",
        //zdanie
        sentence1: [
                "est√°"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        16,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                "In moon<b><u>ly</b></u> saturday i <b><u>read</b></u> great book"
        ],
        // opis
        desc: "leyendo[leh-yen-doh] - read",
        //zdanie
        sentence1: [
                "leyendo"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        17,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                "In moon<b><u>ly</b></u> saturday i <b><u>read</b></u> great book"
        ],
        // opis
        desc: "un libro[oon lee-broh] - book",
        //zdanie
        sentence1: [
                "un libro"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        18,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                "In moon<b><u>ly</b></u> saturday i <b><u>read</b></u> great book"
        ],
        // opis
        desc: "interesante[in-teh-reh-sahn-teh] - interesting",
        //zdanie
        sentence1: [
                "interesting"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        19,
        3
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "ahora[ah-oh-rah] - now",
        //zdanie
        sentence1: [
                "ahora"
        ],
        sentence: [
                "Ella",
                "esta",
                "leyendo",
                "un libro",
                "interesante",
                "ahora"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        20,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "My coffee is so lazy, it walks to the cup",
        translateb: "[mee kah-feh es tahn peh-reh-soh, kah-mee-nah ah lah tah-sah]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/coffe2.mp4", 'Serial: Dexter(2006-)'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/coffe2.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "sens<b><u>ei</b></u> can s<b><u>o</b></u>mehow afford to meet a beautiful girl"
        ],
        // opis
        desc: "Mi[eh-yah] - they",
        //zdanie
        sentence1: [
                "Mi"
        ],
        sentence: [
                "Mi",
                "caffe",
                "es",
                "tan",
                "perezoso"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        21,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "cafe[ah-oh-rah] - now",
        //zdanie
        sentence1: [
                "cafe"
        ],
        sentence: [
                "Mi",
                "cafe",
                "es",
                "tan",
                "perezoso"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        22,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "es[ah-oh-rah] - now",
        //zdanie
        sentence1: [
                "es"
        ],
        sentence: [
                "Mi",
                "cafe",
                "es",
                "tan",
                "perezoso"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        23,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "tan[ah-oh-rah] - now",
        //zdanie
        sentence1: [
                "tan"
        ],
        sentence: [
                "Mi",
                "cafe",
                "es",
                "tan",
                "perezoso"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        24,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "perezoso[ah-oh-rah] - now",
        //zdanie
        sentence1: [
                "perezoso"
        ],
        sentence: [
                "Mi",
                "cafe",
                "es",
                "tan",
                "perezoso"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        25,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "camina[ah-oh-rah] - now",
        //zdanie
        sentence2: [
                "camina"
        ],
        sentence: [
                "camina",
                "a",
                "la taza"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        26,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "a[ah-oh-rah] - now",
        //zdanie
        sentence2: [
                "a"
        ],
        sentence: [
                "camina",
                "a",
                "la taza"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        27,
        4
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "la taza[ah-oh-rah] - now",
        //zdanie
        sentence2: [
                "la taza"
        ],
        sentence: [
                "camina",
                "a",
                "la taza"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        28,
        5
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "The sun shines in the blue sky",
        translateb: "[el sohl bree-yah en el see-eh-loh ah-sool]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/sky.mp4", 'Matrix (1997)'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/sky.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "sens<b><u>ei</b></u> can s<b><u>o</b></u>mehow afford to meet a beautiful girl"
        ],
        // opis
        desc: "El sol[el sohl] - sun",
        //zdanie
        sentence1: [
                "El sol"
        ],
        sentence: [
                "El sol",
                "brilla"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        29,
        5
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "brilla[bree-yah] - shines",
        //zdanie
        sentence1: [
                "brilla"
        ],
        sentence: [
                "El sol",
                "brilla"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        30,
        5
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "en[bree-yah] - on/in",
        //zdanie
        sentence2: [
                "en"
        ],
        sentence: [
                "en",
                "el cielo",
                "azul"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        31,
        5
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "el cielo[bree-yah] - sky",
        //zdanie
        sentence2: [
                "el cielo"
        ],
        sentence: [
                "en",
                "el cielo",
                "azul"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        32,
        5
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "azul[bree-yah] - blue",
        //zdanie
        sentence2: [
                "azul"
        ],
        sentence: [
                "en",
                "el cielo",
                "azul"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        33,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        translate: "The house is big, and it has a beautiful garden",
        translateb: "[lah kah-sah es grahn-deh ee tee-eh-neh oon har-deen boh-nee-toh]",
        srcWord: ["http://arbu-1dcc9.web.app/filmy/eng-esp/garden.mp4", 'Elylsium (2013)'],
        srcWordimage: "http://arbu-1dcc9.web.app/filmy/eng-esp/garden.png",
        word: [
                "http://localhost/arbulanguage.com/voice/music.mp4"
        ],
        // historia
        story: [
                "sens<b><u>ei</b></u> can s<b><u>o</b></u>mehow afford to meet a beautiful girl"
        ],
        // opis
        desc: "La casa[lah kah-sah] - house",
        //zdanie
        sentence1: [
                "La casa"
        ],
        sentence: [
                "La casa",
                "es",
                "grande"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        34,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "es[bree-yah] - blue",
        //zdanie
        sentence1: [
                "es"
        ],
        sentence: [
                "La casa",
                "es",
                "grande"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        35,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "grande[bree-yah] - big",
        //zdanie
        sentence1: [
                "grande"
        ],
        sentence: [
                "La casa",
                "es",
                "grande"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        36,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "y[bree-yah] - and",
        //zdanie
        sentence2: [
                "y"
        ],
        sentence: [
                "y",
                "tiene",
                "un jardin",
                "bonito"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        37,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "tiene[bree-yah] - has",
        //zdanie
        sentence2: [
                "tiene"
        ],
        sentence: [
                "y",
                "tiene",
                "un jardin",
                "bonito"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        38,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "un jardin[bree-yah] - garden",
        //zdanie
        sentence2: [
                "tiene"
        ],
        sentence: [
                "y",
                "tiene",
                "un jardin",
                "bonito"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
},
{
id: [
        39,
        6
],
        // obrazek
        img: [
                "http://localhost/arbulanguage.com/img/fiszki1/2a.jpg"
        ],
        word: [
                "http://localhost/arbulanguage.com/voice/lee.mp4"
        ],
        // historia
        story: [
                ""
        ],
        // opis
        desc: "bonito[bree-yah] - beautiful",
        //zdanie
        sentence2: [
                "bonito"
        ],
        sentence: [
                "y",
                "tiene",
                "un jardin",
                "bonito"
        ],
        //  slowo do nauki
        key: "yo",
        category1: [
                "sport", "gaming",
                "natura", "kulinaria",
                "nauka", "medycyna",
                "czarny humor", "pasja",
                "zwiƒÖzki", "wychowanie"
        ],
        category2: ["osoby", "osoby+czas"]
}
];
function addToTrainingList(idFiszki) {
    // dodaj do local storage do treningu
    addFiszkaToLesson(idFiszki);
}
function activateFiszka(idFiszki, znam) {
    let id = idFiszki;
    let parametr = '';

    if (Array.isArray(idFiszki)) {
        id = idFiszki[0];
        parametr = idFiszki[1] || '';
    }

    const className = `fiszka-${id}\\,${parametr}`;
    const selector = `.${className}`;
    console.log(selector);

    if (znam) {
        // Zapisz klasƒô 'active' lub zmie≈Ñ z 'active2' na 'active'
        if ($(selector).hasClass('active2')) {
            $(selector).removeClass('active2').addClass('active');
            updateLearnedClass(className, 'active');
        } else {
            $(selector).addClass('active');
            saveLearnedClass(className, 'active');
        }
        setAsLearned(id);
        console.log(`Set fiszka with ID ${id} as learned.`);
    } else {
        // Zapisz klasƒô 'active2' lub usu≈Ñ 'active'
        $(selector).removeClass('active').addClass('active2');
        saveLearnedClass(className, 'active2');
        addToTrainingList(id);
        console.log(`Clicked - fiszka with ID ${id} added to training list.`);
    }
}

// Funkcja do zapisywania klasy w Local Storage
function saveLearnedClass(className, classToAdd) {
    let learnedClasses = getLearned2();
    const existingEntryIndex = learnedClasses.findIndex(entry => entry.className === className);

    if (existingEntryIndex !== -1) {
        // Je≈õli ju≈º istnieje, zaktualizuj klasƒô
        learnedClasses[existingEntryIndex].classToAdd = classToAdd;
    } else {
        // W przeciwnym razie dodaj nowy wpis
        learnedClasses.push({className, classToAdd});
    }

    localStorage.setItem('ColorClass', JSON.stringify(learnedClasses));
    console.log('ColorClass', learnedClasses);
}

// Funkcja do aktualizacji klasy 'active' w Local  Storage
function updateLearnedClass(className, classToUpdate) {
    let learnedClasses = getLearned2();
    const existingEntryIndex = learnedClasses.findIndex(entry => entry.className === className);

    if (existingEntryIndex !== -1) {
        // Je≈õli ju≈º istnieje, zaktualizuj klasƒô
        learnedClasses[existingEntryIndex].classToAdd = classToUpdate;
        localStorage.setItem('ColorClass', JSON.stringify(learnedClasses));
        console.log('ColorClass', learnedClasses);
    }
}

// Funkcja do odzyskiwania klas z Local Storage
function getLearned2() {
    const storedColorClass = localStorage.getItem('ColorClass');
    return storedColorClass ? JSON.parse(storedColorClass) : [];
}

// Wywo≈Çanie klas po od≈õwie≈ºeniu strony
$(document).ready(function () {
    const learnedClasses = getLearned2();
    learnedClasses.forEach(function (entry) {
        $(`.${entry.className}`).addClass(entry.classToAdd);
    });
});

function generateFiszkaBlock(fiszka, lessonId2) {
    var currentStoryButtonName = ''; // Zmienna lokalna
    console.log(`Generating fiszka block for ID: [${fiszka.id.join(', ')}]`);

    // Tworzenie kontenera fiszki

    $(document).ready(function () {

        function initAudio(fiszkaId) {
            var audioId = 'music' + fiszkaId;
            var pButtonId = 'pButton' + fiszkaId;

            var music = document.getElementById(audioId);
            var pButton = document.getElementById(pButtonId);

            console.log('Initialized audio element with ID:', audioId);
            console.log('Initialized play/pause button with ID:', pButtonId);

            // Play and Pause
            function playb() {
                // start music
                if (music.paused) {
                    music.play();
                    // remove play, add pause
                    pButton.classList.remove("play");
                    pButton.classList.add("pause");
                } else { // pause music
                    music.pause();
                    // remove pause, add play
                    pButton.classList.remove("pause");
                    pButton.classList.add("play");
                }
                console.log('Audio playback status:', music.paused ? 'Paused' : 'Playing');
            }

            // Gets audio file duration
            music.addEventListener("canplaythrough", function () {
                var duration = music.duration;
                console.log('Audio duration:', duration);
            }, false);

            // Dodajemy event listener do przycisku play/pause
            pButton.addEventListener('click', playb);

            console.log('Audio initialization completed.');
        }

// TWORZENIE KONTENERA FISZKI
        const fiszkaContainer = $('<div>').addClass('fiszka fiszka-' + fiszka.id);

        // Pobierz istniejƒÖce warto≈õci z localStorage (je≈õli istniejƒÖ)
        const savedMarginTop = localStorage.getItem('marginTop');
        const savedMarginBottom = localStorage.getItem('marginBottom');

        console.log('Saved values from localStorage:', savedMarginTop, savedMarginBottom);

        // Ustaw domy≈õlne warto≈õci lub skorzystaj z zapisanych warto≈õci z localStorage
        let marginTop = savedMarginTop !== null ? JSON.parse(savedMarginTop) : {};
        let marginBottom = savedMarginBottom !== null ? JSON.parse(savedMarginBottom) : {};

        console.log('Calculated values:', marginTop, marginBottom);

        // Utw√≥rz lub pobierz unikalne warto≈õci margines√≥w dla danej fiszki
        const fiszkaId = fiszka.id.join('-');

        // Ustaw margines na zero dla pierwszej fiszki
        marginTop[fiszkaId] = marginTop[fiszkaId] !== undefined ? marginTop[fiszkaId] : fiszkaId === '1' ? 0 : Math.floor(Math.random() * 160);
        marginBottom[fiszkaId] = marginBottom[fiszkaId] !== undefined ? marginBottom[fiszkaId] : fiszkaId === '1' ? 0 : Math.floor(Math.random() * 80);

        // Zapisz warto≈õci margines√≥w do localStorage
        localStorage.setItem('marginTop', JSON.stringify(marginTop));
        localStorage.setItem('marginBottom', JSON.stringify(marginBottom));

        console.log('Values after saving to localStorage:', marginTop, marginBottom);

        // Ustaw marginesy w elemencie fiszkaContainer
        fiszkaContainer.css({
            'margin-top': `${fiszka.id[0] % 2 === 0 ? -marginTop[fiszkaId] + 170 : -marginTop[fiszkaId] + 40}px`,
            'margin-bottom': `${fiszka.id[0] % 2 !== 0 ? marginBottom[fiszkaId] + 70 : -marginBottom[fiszkaId] + 50}px`
        });

        // DODANIE OBRAZKA
        const imgContainer = $('<div>').addClass('fiszka_img_container');
        if (Array.isArray(fiszka.img) && fiszka.img.length > 0) {
            fiszka.img.forEach((imgSrc, index) => {
                const imgElement = $('<img class="fiszka_img">').attr('src', imgSrc);
                imgContainer.append(imgElement);
                if (index > 0) {
                    imgElement.hide();
                }
            });
        } else if (typeof fiszka.img === 'string') {
            // Je≈õli jest tylko jedno zdjƒôcie, dodajemy je do imgContainer dla ka≈ºdej fiszki
            const imgElement = $('<img class="fiszka_img">').attr('src', fiszka.img);
            imgContainer.append(imgElement);
        }
        fiszkaContainer.append(imgContainer); //DODANIE OBRAZKA

        const selectedLikes = [];
        console.log('hej10', selectedLikes);

// Funkcja do obs≈Çugi klikniƒôcia na przycisk "likeButton"
        function handleLikeButtonClick(index) {
            const likeButton = $(this);
            const storyButton = fiszkaContainer.find('.story_button').eq(index);
            const selectedLike = likeButton.text();
            console.log('Zaktualizowano przycisk dla indeksu:', index);
            console.log('Aktualne warto≈õci selectedLikes:', selectedLikes);
        }
        const likeButton = $('<a>').addClass('like').attr('href', '#');
        const likeText = $('<span>').text('≈ömieszna historia');
        likeButton.append(likeText);
        fiszkaContainer.append(likeButton);

        // Tworzymy kontener opcji "like" i dodajemy opcje do kontenera
        const likeOptionsContainer = $('<div>').attr('id', 'likeOptionsContainer');
        const likeOption1 = createLikeOption('thumbsUp', 'üëç ≈ömieszne');
        const likeOption2 = createLikeOption('heart', '‚ù§Ô∏è Mi≈Çe');
        const likeOption3 = createLikeOption('star', '‚≠ê Pamiƒôtliwe');
        likeOptionsContainer.append(likeOption1, likeOption2, likeOption3);

        // Dodajemy kontener opcji "like" do docelowego kontenera
        likeButton.append(likeOptionsContainer);

        // Ukrywamy kontener opcji "like"
        likeOptionsContainer.hide();

        // Obs≈Çuga zdarzenia hover na przycisku "like"
        likeButton.hover(function () {
            const buttonPosition = likeButton.offset();
            const buttonWidth = likeButton.outerWidth();

            // Pozycjonujemy kontener opcji "like" nad przyciskiem
            likeOptionsContainer.css({
                top: buttonPosition.top - likeOptionsContainer.outerHeight() - 10,
                left: buttonPosition.left + (buttonWidth / 2) - (likeOptionsContainer.outerWidth() / 2),
                backgroundColor: '#f0f0f0', // Dodajemy szary kolor t≈Ça
            }).fadeIn('fast');
        }, function () {
            // Ukrywamy kontener opcji "like" po zjechaniu z przycisku
            likeOptionsContainer.fadeOut('fast');
        });

// Funkcja do umieszczania ikony obok przycisku "story_button" w odpowiedniej fiszce
        function addLikeIconToStoryButton(index, like) {
            const storyButton = fiszkaContainer.find('.story_button').eq(index);
            if (storyButton.length === 0) {
                console.error('Nie znaleziono przycisku dla indeksu:', index);
                return;
            }

            // Tworzymy kontener dla ikony i dodajemy ikonƒô
            const iconContainer = $('<div>').addClass('likeIconContainer');
            const likeIcon = getLikeIcon(like);
            iconContainer.append(likeIcon);

            // Usuwamy wcze≈õniej dodanƒÖ ikonƒô, je≈õli istnieje
            storyButton.find('.likeIconContainer').remove();

            // Dodajemy kontener z ikonƒÖ do przycisku "story_button"
            storyButton.append(iconContainer);
        }

        function createLikeOption(like, text) {
            const likeOption = $('<div>').addClass('likeOption').attr('data-like', like).text(text);

            // Dodajemy efekt zmiany koloru na lekko ciemniejszy szary po najechaniu myszkƒÖ na pojedynczƒÖ opcjƒô "like"
            likeOption.hover(
                    function () {
                        likeOption.css('background-color', '#dcdcdc'); // Lekko ciemniejszy szary kolor t≈Ça dla opcji "like"
                    },
                    function () {
                        likeOption.css('background-color', ''); // Usuwamy styl, aby wr√≥ciƒá do domy≈õlnego t≈Ça opcji "like"
                    }
            );

            let likeCounter = 0; // Dodajemy licznik polubie≈Ñ dla ka≈ºdej opcji "like"

            const counterDiv = $('<div>').addClass('likeCounterDiv'); // Nowy div na licznik

            // Dodajemy ikonƒô do licznika
            const likeIcon = getLikeIcon(like);
            const iconContainer = $('<span>').addClass('likeIconContainer').append(likeIcon);
            counterDiv.append(iconContainer);

            const likeCounterSpan = $('<span>').addClass('likeCounter').text(` ${likeCounter} `);
            counterDiv.append(likeCounterSpan); // Licznik jest dodany po ikonie

            imgContainer.append(counterDiv); // Dodajemy licznik na zewnƒÖtrz kontenera przycisk√≥w

            likeOption.click(function (event) {
                event.preventDefault(); // Zapobiegamy domy≈õlnej akcji przycisku

                // Inkrementujemy licznik polubie≈Ñ za ka≈ºdym razem, gdy opcja "like" zostanie wybrana
                likeCounter++;
                likeCounterSpan.text(` ${likeCounter} `);

                const selectedLike = $(this).data('like');
                const selectedIcon = getLikeIcon(selectedLike);
                likeText.text(text);
                likeButton.removeClass('liked');
                addLikeIconToStoryButton(lastClickedIndex, selectedLike); // Dodaj ikonƒô do story_button na podstawie wybranej opcji "like"

                // Sprawd≈∫, czy index ju≈º istnieje w tablicy
                const existingIndex = selectedLikes.findIndex(item => item.index === lastClickedIndex);
                if (existingIndex !== -1) {
                    // Je≈õli index istnieje, zaktualizuj warto≈õƒá
                    selectedLikes[existingIndex].like = selectedLike;
                } else {
                    // Je≈õli index nie istnieje, dodaj nowy wpis
                    selectedLikes.push({index: lastClickedIndex, like: text}); // Dodaj tylko nazwƒô "like"
                }

                likeOptionsContainer.fadeOut('fast');
                saveSelectedLike(selectedLike, text); // Przekazujemy nazwƒô "like" i tekst do funkcji saveSelectedLike
            });

            return likeOption;
        }

// Funkcja do zapisywania wybranego "like"
        function saveSelectedLike(selectedLike, text) {
            // Tutaj mo≈ºesz zapisaƒá wybrany "like" w odpowiednim kontek≈õcie, np. wys≈Çaƒá go na serwer, zapisaƒá w lokalnym magazynie itp.
            console.log('Wybrany like:', text);
            console.log('Tekst:', text);
            // Je≈õli chcesz u≈ºyƒá go w innych miejscach, mo≈ºesz przekazaƒá go jako argument do innych funkcji lub zmiennych.
        }

        // Funkcja do pobierania ikony dla wybranego "like"
        function getLikeIcon(like) {
            let icon;
            switch (like) {
                case 'thumbsUp':
                    icon = $('<span class="likeIcon">üëç</span>');
                    break;
                case 'heart':
                    icon = $('<span class="likeIcon">‚ù§Ô∏è</span>');
                    break;
                case 'star':
                    icon = $('<span class="likeIcon">‚≠ê</span>');
                    break;
                default:
                    icon = $('<span class="likeIcon">üëç</span>');
            }
            return icon;
        }

        const hashtagContainer = $('<a>').addClass('hashtag-container').attr('href', '#');
        fiszkaContainer.append(hashtagContainer);

        function showStory(index) {
            // Uzyskajmy odniesienie do konkretnej fiszki, na kt√≥rƒÖ kliknƒôli≈õmy
            const currentFiszka = fiszkaContainer;

            // Ukrywamy wszystkie historie w tej konkretnej fiszce
            currentFiszka.find('.fiszka_story').hide();

            // MNEMOTECHNIKA
            if (fiszka.story && fiszka.story.length > 0) {
                currentFiszka.find('.story-' + index).show();
            }
            // Ukrywamy wszystkie obrazy
            currentFiszka.find('.fiszka_img').hide();

            // WYBRANY OBRAZ
            if (fiszka.img && fiszka.img.length > 0) {
                imgIndex = Math.min(index, fiszka.img.length - 1); // Przypisz imgIndex
                currentFiszka.find('.fiszka_img').eq(imgIndex).show();

                specificLesson2Ref = fiszka.img[imgIndex];

                // Wy≈õwietl console log z indeksem obrazka
                console.log("Index obrazka:", imgIndex);
                lastClickedIndex = index;

                // Wybierz odpowiedni "likeButton" dla danego indeksu
                selectLikeButton(index);
            }
            // HASHTAG
            const selectedCategoryIndex = index * 2;
            const value = fiszka.category1[selectedCategoryIndex];
            const hashtag = fiszka.category1[selectedCategoryIndex + 1];

            hashtagContainer.empty(); // Wyczy≈õƒá poprzednie hashtagi
            hashtagContainer.text(`${value} #${hashtag}`);

            console.log('Calculated imgIndex:', imgIndex);

            return imgIndex; // Zwracamy indeks obrazka
        }

        function selectLikeButton(index) {
            console.log("Wyb√≥r likeButton dla indeksu:", index);
            const storyButton = $('.story_button').eq(index);
            if (!storyButton.length) {
                console.error('Nie znaleziono przycisku dla indeksu:', index);
                return;
            }

            const likeButton = storyButton.find('.like');
            likeText.find('span').remove();
            likeText.text('≈ömieszna historia');

            // Sprawd≈∫, czy index jest zawarty w tablicy selectedLikes
            const selectedLike = selectedLikes.find(item => item.index === index);
            if (selectedLike) {
                // Je≈õli index istnieje w tablicy, ustaw ikonƒô przycisku na warto≈õƒá z tablicy
                console.log("Wybrano like dla indeksu:", index, "- Like:", selectedLike.like);
                const selectedIcon = getLikeIcon(selectedLike.like); // Przekazujemy tylko nazwƒô ikony
                console.log('hej5', selectedIcon);
                likeText.html(selectedLike.like); // Ustawiamy ikonƒô
            } else {
                // Je≈õli index nie istnieje, ustaw domy≈õlny tekst
                console.log("Brak wyboru like dla indeksu:", index, "- Ustawianie domy≈õlnego tekstu");
                likeButton.text('≈ömieszna historia');
            }
        }
        // NIEZNACZƒÑCE WYJA≈öNIENIE S≈ÅOWA
        const sentenceDiv = $('<div>').attr('id', 'part');
        fiszka.sentence.forEach(word => {
            sentenceDiv.append($('<button>').text(word));
        });
        // Dodanie diva z przyciskami do kontenera fiszki
        fiszkaContainer.append(sentenceDiv);

        console.log('Przed utworzeniem wordDiv');
        const wordDiv = $('<div>').attr('id', 'word');
        const button = $('<button>').attr('id', 'storyone').html('<b>' + fiszka.desc + '</b>');
        const audio = $('<audio>').attr({
            id: 'music' + fiszka.id,
            preload: 'true'
        });
        const source = $('<source>').attr('src', fiszka.word);
        audio.append(source);
        const audioplayerDiv = $('<div>').attr('id', 'audioplayer' + fiszka.id).addClass('audioplayer'); // Dodano klasƒô 'audioplayer'
        const pButton = $('<button>').attr('id', 'pButton' + fiszka.id).addClass('pButton play').click(function () {
            console.log('playb called for fiszka.id:', fiszka.id);
            window['playb' + fiszka.id]();
        });

        pButton.css({
            height: '60px',
            width: '60px',
            backgroundSize: 'cover',
            backgroundRepeat: 'no-repeat',
            backgroundPosition: 'center',
            float: 'left',
            outline: 'none',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            overflow: 'hidden'
        });

        audioplayerDiv.append(pButton);
        wordDiv.append(button);
        wordDiv.append(audio);
        wordDiv.append(audioplayerDiv);
        fiszkaContainer.append(wordDiv);
        console.log('Po utworzeniu wordDiv');

        // DODANIE  MNEMOTECHNIKI
        if (Array.isArray(fiszka.story) && fiszka.story.length > 0) {
            fiszka.story.forEach((story, index) => {
                const storyContainer = $('<div>').addClass('fiszka_story story-' + index).html(story).hide();
                fiszkaContainer.append(storyContainer);
            });
        }
        console.log('Przed utworzeniem wordDiv');

// Utworzenie reszty element√≥w zgodnie z istniejƒÖcym kodem
        const wordDiv2 = $('<div>').attr('id', 'word2');
        const audio2 = $('<audio>').attr({
            id: 'music2' + fiszka.id,
            preload: 'true'
        });
        const source2 = $('<source>').attr('src', fiszka.word);
        audio2.append(source2);
        const audioplayerDiv2 = $('<div>').attr('id', 'audioplayer2' + fiszka.id).addClass('audioplayer2'); // Dodano klasƒô 'audioplayer'
        const pButton2 = $('<button>').attr('id', 'pButton2' + fiszka.id).addClass('pButton play').click(function () {
            console.log('playb called for fiszka.id:', fiszka.id);
            window['playb' + fiszka.id]();
        });

// Utworzenie element√≥w za pomocƒÖ jQuery
        const timelineDiv = $('<div>').attr('id', 'timeline' + fiszka.id);
        const playheadDiv = $('<div>').attr('id', 'playhead' + fiszka.id);

// Dodanie playhead do timeline
        timelineDiv.append(playheadDiv);

// Dodanie element√≥w do odpowiednich kontener√≥w
        audioplayerDiv.append(pButton2);
        wordDiv2.append(audio2);
        wordDiv2.append(audioplayerDiv2);
        wordDiv2.append(timelineDiv); // Dodano timeline do wordDiv
        fiszkaContainer.append(wordDiv2);

        console.log('Po utworzeniu wordDiv');
        // Zdefiniuj zmiennƒÖ poczƒÖtkowƒÖ na poziomie wy≈ºszym
        let initialSpecificLesson2Ref;
        let specificLesson2Ref;
        let lastClickedIndex = null;
        let lastApprovedIndex = null; // Zmienna do przechowywania ostatnio zatwierdzonego indeksu
        let approvedIndexes = []; // Tablica przechowujƒÖca zatwierdzone indeksy
        let approvedColors = [];

// DODANIE PRZYCISK√ìW
        if (Array.isArray(fiszka.category1)) {
            const storyButtonContainer = $('<div>'); // Kontener na przyciski
            const randomIndex = Math.floor(Math.random() * fiszka.category1.length / 2);
            let lastClickedButton; // Zmienna do przechowywania ostatnio klikniƒôtego przycisku w danej fiszce

            fiszka.category1.slice(0, 5).forEach((category1, index) => {
                const valueIndex = index * 2; // Indeks warto≈õci w tablicy, zaczynajƒÖc od 0
                const hashtagIndex = valueIndex + 1; // Indeks hashtagu w tablicy

                const value = fiszka.category1[valueIndex];
                const hashtag = fiszka.category1[hashtagIndex];

                const displayText = `${value} #${hashtag}`;

                const storyButton = $('<button>')
                        .text(displayText)
                        .addClass('story_button')
                        .click(function () {
                            showStory(index);
                            lastClickedIndex = index;

                            // Usuwamy zielonƒÖ klasƒô tylko z poprzedniego przycisku w danej fiszce
                            if (lastClickedButton) {
                                lastClickedButton.removeClass('green-button');
                            }

                            // Usuwamy klasƒô imgIndex z poprzedniego przycisku w danej fiszce
                            $('.story_button').removeClass((index, className) => (className.match(/imgIndex-\d+/g) || []).join(' '));
                            // Dodajemy klasƒô imgIndexNull do przycisk√≥w, kt√≥re nie zosta≈Çy jeszcze zatwierdzone
                            $('.fiszka').addClass('imgIndexNull').removeClass('imgIndex-0 imgIndex-1 imgIndex-2 imgIndex-3 imgIndex-4 ');

                            // Dodajemy zielonƒÖ klasƒô tylko dla aktualnie klikniƒôtego przycisku w danej fiszce
                            $(this).addClass('green-button');
                            $('.story_button').removeClass('active-button');
                            $(this).addClass('active-button');
                            $('.story_button').each(function (index) {
                                if ($(this).hasClass('orange-button')) {
                                    $(this).removeClass('green-button');
                                    $(this).addClass('orange-button');
                                }
                            });

                            // Je≈õli przycisk zosta≈Ç wcze≈õniej zatwierdzony, przywr√≥ƒá jego zatwierdzonƒÖ klasƒô
                            if (approvedIndexes.includes(lastClickedIndex)) {
                                fiszkaContainer.addClass('imgIndex-' + lastClickedIndex);
                            }

                            // Zapisujemy ostatnio klikniƒôty przycisk w danej fiszce
                            lastClickedButton = $(this);
                            handleLikeButtonClick();
                        });

                if (index === randomIndex) {
                    // Przypisanie specificLesson2Ref dla przycisku o losowym indeksie
                    newImgIndex = Math.min(index, fiszka.img.length - 1); // Aktualizacja zmiennej globalnej imgIndex
                    specificLesson2Ref = fiszka.img[newImgIndex];
                    initialSpecificLesson2Ref = specificLesson2Ref;
                    console.log('hej7', newImgIndex);
                    storyButton.addClass('green-button');
                    lastClickedButton = storyButton;
                    lastApprovedIndex = index; // Ustaw ostatnio zatwierdzony indeks na indeks losowego przycisku
                }

                // Dodaj typ "like" dla tej fiszki do tablicy
                storyButtonContainer.append(storyButton);
            });

            fiszkaContainer.append(storyButtonContainer);

            // WYWO≈ÅANIE TABLICY
            showStory(randomIndex);
            console.log(randomIndex);

            // U≈ºycie specificLesson2Ref po za≈Çadowaniu strony
            console.log("PoczƒÖtkowy specificLesson2Ref:", initialSpecificLesson2Ref);
        }
        $('.fiszka_button_trening').click(function () {
            // Dodaj klasƒô pomara≈ÑczowƒÖ tylko dla przycisku zatwierdzonego
            $('.story_button').each(function (index) {
                if ($(this).hasClass('green-button')) {
                    $(this).removeClass('green-button');
                    $(this).addClass('orange-button');
                }
            });
        });
// DODANIE PRZYCISKU TRENING
        fiszkaContainer.append($('<button>').text('TRENING').addClass('fiszka_button fiszka_button_trening').click(function () {
            activateFiszka(fiszka.id, false);
            console.log("Trening clicked on fiszka nr " + fiszka.id);
            console.log("lessonId2:", lessonId2);
            console.log("nr fiszki", lessons2[lessonId2]);
            console.log("nazwa", fiszka.key);
            // Wyswietlenie danej warto≈õci img dla danej fiszka.id
            const specificLesson2 = specificLesson2Ref || initialSpecificLesson2Ref;
            console.log("img dla fiszki o id", fiszka.id, ":", specificLesson2);
            specificLesson2Ref = fiszka.img;
            // Znajd≈∫ indeks dla danej fiszki w tablicy lessons2[lessonId2]
            const index = lessons2[lessonId2].findIndex(item => item.id.join(', ') === fiszka.id.join(', '));
            if (index !== -1) {
                console.log("Nr fiszki:", index);
            } else {
                console.log("Fiszka nie zosta≈Ça znaleziona w tablicy.");
            }
            console.log('Przed aktywujObrazek');
            // U≈ºywamy lastClickedIndex zamiast index
            imgIndex = showStory(lastClickedIndex); // Wywo≈Çanie funkcji showStory i zapisanie zwr√≥conego indeksu obrazka
            aktywujObrazek(lessonId2, specificLesson2, 'obrazek-container2b', true, fiszka, imgIndex); // Przekazanie imgIndex do funkcji aktywujObrazek
            console.log('hej2', imgIndex);


            // Dodajemy zatwierdzony indeks do tablicy
            approvedIndexes.push(lastClickedIndex);
            console.log(approvedIndexes);

            // Dodanie zatwierdzonej klasy imgIndex do fiszkaContainer po klikniƒôciu przycisku "TRENING"
            fiszkaContainer.addClass('imgIndex-' + lastClickedIndex);
        }));

        fiszkaContainer.append($('<button>').text('ZNAM').addClass('fiszka_button fiszka_button_znam').click(function () {
            console.log("Znam clicked on fiszka nr " + fiszka.id);
            activateFiszka(fiszka.id, true);
        }));

        // WYWO≈ÅANIE HASHTAGU
        function updateButtonName(buttonName, fiszkaContainer) {
            // Usu≈Ñ poprzedniƒÖ nazwƒô, je≈õli istnieje
            fiszkaContainer.find('.fiszka_button_name').remove();

            // Ustaw nazwƒô w prawym dolnym rogu fiszki
            const fiszkaButtonNameContainer = $('<div>').addClass('fiszka_button_name').text(buttonName);
            fiszkaContainer.append(fiszkaButtonNameContainer);
        }
        // Dodanie kontenera fiszki do body
        $('.grid-container').append(fiszkaContainer);
        console.log(`Generated fiszka block for ID: [${fiszka.id.join(', ')}]`);
        initAudio(fiszka.id);
    });
}


function getRandomId(max, range, usedIds) {
    const start = (range - 1) * max + 1;
    const end = range * max;

    // Filtruj dostƒôpne identyfikatory, usuwajƒÖc ju≈º u≈ºyte
    const availableIds = Array.from({length: end - start + 1}, (_, index) => start + index)
            .filter(id => !usedIds.includes(id));

    if (availableIds.length === 0) {
        // W przypadku, gdy wszystkie identyfikatory zosta≈Çy ju≈º u≈ºyte, zwracamy null lub mo≈ºemy obs≈Çu≈ºyƒá to w inny spos√≥b
        return null;
    }

    // Losuj identyfikator z dostƒôpnych
    const randomIndex = Math.floor(Math.random() * availableIds.length);
    const randomId = availableIds[randomIndex];

    // Dodaj u≈ºyty identyfikator do listy
    usedIds.push(randomId);

    return randomId;
}

// Funkcja do zapisywania danych do localStorage
function saveToLocalStorage(data) {
    localStorage.setItem('wylosowaneLekcje', JSON.stringify(data));
}

// Funkcja do wczytywania danych z localStorage
function loadFromLocalStorage() {
    const storedData = localStorage.getItem('wylosowaneLekcje');
    return storedData ? JSON.parse(storedData) : null;
}

const maxRandom = 3;

let lessons2;

// Sprawd≈∫, czy istniejƒÖ zapisane dane w localStorage
const storedLessons = loadFromLocalStorage();

if (storedLessons) {
    // Je≈õli dane sƒÖ zapisane, wczytaj je
    lessons2 = storedLessons;
    console.log('Wczytane dane z localStorage:', lessons2);

    // Op√≥≈∫nij wywo≈Çanie funkcji do wy≈õwietlania fiszek
    setTimeout(showFiszki2, 0);
} else {
    // Je≈õli nie ma zapisanych danych, losuj i zapisz
    lessons2 = {
        1: [],
        2: [],
        3: []
    };

    // Funkcja do losowania i zapisywania danych
    function losowanie(szablon) {
        // Lista u≈ºytych identyfikator√≥w
        let usedIds = [];

        // Przypisanie przypadkowych id[1] dla ka≈ºdej lekcji
        for (const lessonId2 in lessons2) {
            const randomId1 = getRandomId(maxRandom, szablon, usedIds);

            if (randomId1 === null) {
                console.log('Wszystkie dostƒôpne identyfikatory zosta≈Çy ju≈º u≈ºyte.');
                return;
            }

            console.log(`Lekcja ${lessonId2}: Losowe ID[1]: ${randomId1}`);
            lessons2[lessonId2] = fiszki.filter(f => f.id[1] === randomId1);
            console.log(`Lekcja ${lessonId2} przefiltrowane dane:`, lessons2[lessonId2]);
        }

        // Zapisz wylosowane dane do  localStorage
        saveToLocalStorage(lessons2);

        // Op√≥≈∫nij wywo≈Çanie funkcji do wy≈õwietlania fiszek
        setTimeout(showFiszki2, 0);
    }

    // Posortowanie fiszek w danej lekcji wzglƒôdem id[1] i id[0]
    for (const lessonId2 in lessons2) {
        lessons2[lessonId2].sort((a, b) => {
            if (a.id[1] !== b.id[1]) {
                return a.id[1] - b.id[1];
            }
            return a.id[0] - b.id[0];
        });
        console.log(`Sorted data for Lesson ${lessonId2}:`, lessons2[lessonId2]);
    }

    // Wywo≈Çaj funkcjƒô losowania
    losowanie(/* dodaj tutaj odpowiedniƒÖ warto≈õƒá dla szablonu */);
}

// Funkcja do wy≈õwietlania fiszek w danej lekcji
function showFiszki2() {
    for (const lessonId2 in lessons2) {
        console.log(`Lesson ${lessonId2}:`);
        if (lessons2[lessonId2].length === 0) {
            console.log("No data for this lesson and the randomly generated identifier.");
        } else {
            lessons2[lessonId2].forEach(fiszka => {
                console.log(`Processing fiszka with ID: [${fiszka.id.join(', ')}]`);
                generateFiszkaBlock(fiszka, lessonId2);
                console.log(`Generated fiszka with ID: [${fiszka.id.join(', ')}]`);
            });
            console.log('lessons2 z wylosowanymi identyfikatorami dla pierwszej tablicy:', lessons2[1][0]);
        }
    }
}



function getRandomFiszki(fiszkiArray, n) {
    const shuffledFiszki = fiszkiArray.sort(() => Math.random() - 0.5);
    return shuffledFiszki.slice(0, n);
}


function showFiszki() {
    const selectedFiszki = getRandomFiszki(fiszki, 18);
    // Wygeneruj bloki kodu dla wybranych fiszek
    selectedFiszki.forEach(fiszka => {
        console.log(fiszka);
        generateFiszkaBlock(fiszka);
    });
}
// Dodajemy styl dla zielonego przycisku
$('<style>.green-button { background-color: green; color: white; }</style>').appendTo('head');
// Dodajemy styl dla aktywnego przycisku
$('<style>.active-button { border: 2px solid red; }</style>').appendTo('head');

window.fiszki = fiszki;