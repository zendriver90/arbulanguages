
<!DOCTYPE html>
<html>
    <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N1YHS2Y62J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N1YHS2Y62J');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2654094815555460"
     crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <link rel="stylesheet" type="text/css" href="css/lista.css">
                <link rel="stylesheet" type="text/css" href="js/fiszki.css">
        <link rel="stylesheet" type="text/css" href="css/styl7.css">
        <link rel="stylesheet" type="text/css" href="js/audioaudio.css">
        <link rel="stylesheet" type="text/css" href="css/1nowe-pc.css">
        <script src="js/story.js"></script>
        <script src="js/storage.js"></script>
        <script src="start/testowyb10.js"></script>
                <script src="start/testowyb10v2.js"></script>
                <script src="start/testowyb10v3.js"></script>
                <script src="start/testowyb10v4.js"></script>
                <script src="js/lista.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="naucz się angielskiego, 1000 angielskich słów, szybka nauka angielskiego, jak nauczyć się angielskiego, jak szybko nauczyć się języka, nauka angielskiego z przyjemnością" />
        <style>
            @media (min-width: 999px) {
                .text-intro {
    margin: 5px 0 8px 0;
    font-weight: bold;
    font-size: 12px; /* standardowa wielkość na PC */
}
                .video-item {
    display: grid;
    grid-template-columns: 60px 1fr;
    gap: 10px;
    align-items: center;
    margin: 6px 0;
    padding: 4px;
    border-bottom: 1px solid #ddd;
}

.video-thumb {
    width: 60px;
    height: 40px;
    object-fit: cover;
    border-radius: 4px;
}

.video-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
    justify-content: center;
}

.video-name {
    font-weight: bold;
    margin: 0;
    font-size: 12px;
}

.video-subtext {
    margin: 0;
    font-size: 10px;
    color: #555;
}
                #adblockMessage {
  display: none;
  width: 500px;
  max-width: 90%; /* żeby na małych ekranach nie wychodziło poza ekran */
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #ffdddd;
  color: #000;
  border: 1px solid #f00;
  padding: 15px;
  font-family: sans-serif;
  z-index: 99999999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  border-radius: 8px;
}

#adblockMessage button {
  float: right;
  background: #f00;
  color: #fff;
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  font-weight: bold;
  border-radius: 4px;
}
                                .image-container3 .run-button4 {
                    margin-top: -40px;
                    text-align: center;
                }
                .sentence-block {
    display: block !important;
}
.orange {
  background-color: orange;
  padding: 2px 4px;
  border-radius: 4px;
}
                #learningNotification {
  display: none;
  visibility: hidden;
  opacity: 0;
}
.earned-badge {
  width: 60px;
  height: auto;
  border-radius: 8px;
}

.current-badge {
  width: 80px;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 0 10px gold;
}
                #badgeContainer {
    display: flex;
    flex-direction: column; /* układa elementy pionowo */
    gap: 10px; /* odstęp między odznakami */
}
.run-button {
    pointer-events: auto !important;
}
                .sentence-line {
    align-items: center;
}

.left-button {
    margin-right: 8px; /* odstęp między przyciskiem a tekstem */
}

.sentence10 {
    display: inline-block;
}
.sentence20 {
    display: inline-block;
}
                .highlight-green {
  background-color: rgba(0, 255, 0, 0.2); /* przezroczysty zielony */
}
                #container {
    padding: 20px;
}

.background-video {
    margin-bottom: 20px;
}

video {
    max-width: 100%;
    height: auto;
}
.blink-animation {
    animation: blinkEffect 2s infinite;
    background-color: #222;
    color: white;
    border: 2px solid #444;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    font-size: 20px;
    text-align: center;
}

@keyframes blinkEffect {
    0%, 100% { background-color: #222; }
    50% { background-color: #333; }
}

.film-title {
    font-size: 18px;
    margin: 10px;
    color: white;
}
        h1 {
            font-size: 50px;
            text-align: left;
            margin-left: 30px;
	font: bold 1.5em verdana;
        }
        h2 {
            font-size: 30px;
            text-align: left;
            margin-left: 30px;
	font: bold 1.5em verdana;
        }

  .category-btn {
    color: white;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
  }
    .category-btn5 {
    background-color: gray; /* Filetowy kolor dla wszystkich przycisków */
    color: white;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
  }

  .category-btn[data-category="sport"] {
    background-color: #28a745; /* Zielony kolor dla sportu */
  }

  .category-btn[data-category="natura"] {
    background-color: #007bff; /* Niebieski kolor dla natury */
  }
  .category-btn[data-category="nauka"] {
    background-color: #dc3545; /* Czerwony kolor dla nauki */
  }
  .category-btn[data-category="czarny humor"] {
    background-color: orange; /* Żółty kolor dla czarnego humoru */
  }

  .category-btn[data-category="zwiazki"] {
    background-color: #fd7e14; /* Pomarańczowy kolor dla związków */
  }
    .active-category {
    border: 6px solid black; /* Czarna ramka dla aktywnej kategorii */
    box-sizing: border-box; /* Ważne, aby uwzględnić ramkę w układzie */
  }
                .highlighted-range {
  background-color: green;
}
.fiszka-container {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 12px;
    background-color: #f9f9f9;
    max-width: 600px;
    font-family: Arial, sans-serif;
}

.fiszka-word {
    font-size: 20px;
    font-weight: bold;
    color: #333;
}

/* Styl dla standardowych przycisków synonimów */
.matching-button {
    margin: 4px;
    padding: 6px 10px;
    background-color: #e0e0e0;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.matching-button:hover {
    background-color: #bdbdbd;
}

/* Styl dla przycisków po aktywacji trybu tłumaczenia */
.active-translation {
    background-color: #aed581 !important;
    color: #000;
}

/* Styl dla przycisków ogólnych, np. "pokaż słówko po polsku" */
.fiszka-button {
    padding: 8px 12px;
    border: none;
    border-radius: 8px;
    background-color: #3f51b5;
    color: white;
    cursor: pointer;
    transition: background-color 0.2s;
}

.fiszka-button:hover {
    background-color: #303f9f;
}
                .hidden-link {
    position: absolute;
    left: -9999px;
    visibility: hidden;
}
                .search-container {
    display: flex;
    align-items: center;
    gap: 0px; /* Odstęp między elementami */
}
                .search-wrapper {
  display: flex;
  width: 300px;
  flex-direction: column;
  gap: 20px;
}

.button-container {
    position: relative;
    gap: 0px;
    top: 96px;
}

input {
  font-size: 1rem;
}

.user-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: .25rem;
  margin-top: 1rem;
}

.card {
  border: 1px solid black;
  background-color: white;
  padding: .5rem;
}

.card > .header {
  margin-bottom: .25rem;
}

.card > .body {
  font-size: .8rem;
  color: #777;
}

.hide {
  display: none;
}
                .sentence-container {
                    display: flex; /* Użyj flexboxa dla wyrównania w linii */
                    align-items: center; /* Wyrównaj pionowo do środka */
                }
.sentence-container {
    display: inline-block; /* Pozwala zachować układ inline, ale z kontrolą nad pozycjonowaniem */
    position: relative; /* Kontener, który pozwala na absolutne pozycjonowanie categoryHTML */
}

.category-container {
    font-size: 10px;
    position: absolute; /* Pozycjonowanie absolutne */
    left: 200px;
    top: 0px; /* Wyrównanie w pionie na środek */
    margin-top: 0px;
    left: -120px; /* Ustawienie na lewo od zdania, dostosuj wartość, aby pasowało */
    transform: translateY(-50%); /* Centrowanie w pionie */
    z-index: 10; /* Zapewnia, że categoryHTML będzie na wierzchu */
}

.left-button {
    position: relative; /* Pozostaje w normalnym przepływie */
}
.left-button2 {
    position: relative; /* Pozostaje w normalnym przepływie */
    height: 25px;
    width: 25px;
    background-color: #800080;
    border-radius: 8px;
}
span.highlight {
    margin-left: 200px;
}
                .nav-button {
                    font-size: 0.8em; /* Dostosuj rozmiar czcionki przycisków */
                    margin: 0 5px; /* Marginesy między przyciskami a tekstem */
                }
                                .next-button {
                    font-size: 0.8em; /* Dostosuj rozmiar czcionki przycisków */
                    margin: 0 5px; /* Marginesy między przyciskami a tekstem */
                }

                .highlighted {
                    color: green; /* Kolor dla wyróżnionego słowa */
                    font-weight: bold; /* Opcjonalnie: pogrubienie dla wyróżnionego słowa */
                }

                .blink {
                    animation: blink-animation 1s steps(5, start) infinite; /* Przykład animacji mrugania */
                }

                @keyframes blink-animation {
                    to {
                        visibility: hidden;
                    }
                }
                .bottom-bar {
                    display: none;
                }

                .show {
                    transform: translateY(-60px); /* Pasek widoczny po załadowaniu */
                }
                .hidden {
                    transform: translateY(100%); /* Schowanie paska poza ekran */
                }
                .bottom-button {
                    background-color: #4CAF50;
                    color: white;
                    border: none;
                    padding: 10px;
                    font-size: 8px;
                    border-radius: 5px;
                    cursor: pointer;
                }

                .bottom-button:hover {
                    background-color: #45a049;
                }

                .lupka {
                    position: absolute;
                    width: auto;
                    height: 30px;
                    cursor: pointer;
                }

                .toggle-button {
                    display: none;
                }

                #arrow {
                    font-size: 20px;
                }

                .show-toggle-button {
                    bottom: 60px; /* Strzałka przesuwa się do góry gdy pasek jest widoczny */
                }
                /* Styl dla głównego kontenera */
                .container {
                    position: relative;
                    display: flex;
                    align-items: flex-start; /* Ustawienie wyrównania elementów wertykalnie */
                    justify-content: space-between;
                    z-index: 99999999;
                }
                .content-container {
                    max-width: 100%;
                    position: relative;
                }
                /* Styl dla menu pionowego */
                .side-menu {
                    width: 118px;
                    margin-right: 20px;
                }
                .left-button,
                .left-buttonb,
                .left-buttonbb{
                    color: orange;
                    border-radius: 5px;
                }
                .white-text {
                    color: white !important;
                }
                .side-menu button {
                    display: block;
                    margin-bottom: 10px;
                    width: 100%;
                    padding: 8px 15px;
                    font-size: 16px;
                    border: none;
                    cursor: pointer;
                }

                @keyframes blinkBackground {
                    0% {
                        background-color: yellow;
                    }
                    50% {
                        background-color: transparent;
                    }
                    100% {
                        background-color: yellow;
                    }
                }

                .blinking {
                    animation: blinkBackground 1s infinite;
                }
                .image-container {
                    width: 330px;
                    position: relative;
                    height: auto;
                    left: 0px;
                    margin-right: 0px;
                }

                .image-container2 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    width: 330px;
                    position: relative;
                    height: 80px;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                }
                                                .image-container2b {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: gray;
                    width: 330px;
                    position: relative;
                    height: 100px;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                }

                .image-container3 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    width: 100%;
                    position: relative;
                    min-height: 220px;
                    height: auto;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                }
                                .image-container3b {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    width: 100%;
                    position: relative;
                    min-height: 220px;
                    height: auto;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                }
                .background-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: yellow;
                    opacity: 0.7;
                    z-index: 1000; /* Wysoki z-index, aby było na wierzchu */
                }

                .background-video {
                    position: absolute;
                    z-index: 1; /* Wideo, ustaw na niższy z-index */
                }
                                .image-container4 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    width: 100%;
                    position: relative;
                    min-height: 100px;
                    min-width: 330px;
                    height: auto;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                    order: -1; /* Kolejność odwrotna - spycha w dół */
                }
                #wordDisplay {
    position: absolute;
    bottom: 0px;
    cursor: pointer;
    font-size: 22px;
    right: -140px;
    width: 130px;
    height: 30px;
    text-align: center;
    line-height: 30px;
    color: black;
    z-index: 101;
    background-color: lightgray;
    border-radius: 8px;
    border: 2px solid black;
}
                .image-container5 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    width: 100%;
                    position: relative;
                    min-height: 100px;
                    height: auto;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                    order: -1; /* Kolejność odwrotna - spycha w dół */
                    z-index: 10; /* Tło kontenera, ustaw na większy z-index niż wideo */
                }
                .scene-description {
                    position: absolute;
                    font-size: 15px;
                    top: 10px; /* Odległość od górnej krawędzi kontenera */
                    right: -120px; /* Przesunięcie w lewo o 120 pikseli, aby wystawał poza prawą krawędź */
                    background-color: #000;
                    color: #fff;
                    padding: 5px 10px;
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                }
                .scene-description2 {
                    position: absolute;
                    font-size: 15px;
                    top: 10px; /* Odległość od górnej krawędzi kontenera */
                    left: -100px; /* Odległość od górnej krawędzi kontenera */
                    background-color: #000;
                    color: #fff;
                    padding: 5px 10px;
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                }
                .overlay-button {
                    position: absolute;
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                    bottom: 10px;
                    right: 10px;
                    width: 18px;
                    height: 18px;
                    cursor: pointer;
                    border-radius: 8px;
                }
                .slide-button {
                    position: relative; /* Position relative to the container */
                    bottom: 10px;
                    right: -40px; /* Start position off-screen */
                    width: 30px;
                    height: 30px;
                    cursor: pointer;
                    border-radius: 8px;
                    background-color: blue;
                    color: white;
                    display: none; /* Hide initially */
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                }
                .container:hover .overlay {
                    transform: translateX(0); /* Przesuwanie div-a na swoje miejsce */
                }
                .image-container3:hover .overlay {
                    opacity: 1; /* Nakładka widoczna przy najechaniu */
                }
                                .image-container3b:hover .overlay {
                    opacity: 1; /* Nakładka widoczna przy najechaniu */
                }

                .run-button {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    display: none; /* Ukrycie przycisku */
                    z-index: 2; /* Wyższy z-index, aby przycisk był na wierzchu */
                }

                .image-container3:hover .run-button {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container3:hover .run-button3 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                                .image-container3b:hover .run-button {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container3b:hover .run-button3 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .run-button2 {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    display: none; /* Ukrycie przycisku */
                    z-index: 2; /* Wyższy z-index, aby przycisk był na wierzchu */
                }
                .run-button3 {
                    position: absolute;
                    top: 100px;
                    right: 20px;
                    display: none; /* Ukrycie przycisku */
                    z-index: 99999; /* Wyższy z-index, aby przycisk był na wierzchu */
                }
                .dynamic-div {
                    position: absolute;
                    bottom: 5px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 15px;
                    width: 150px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: rgba(255, 0, 0, 0.5); /* Przezroczyste tło */
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                    font-size: 10px;
                }
                                                .dynamic-div2 {
                    position: absolute;
                    bottom: 5px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 15px;
                    width: 150px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: rgba(0, 0, 255, 0.5); /* Przezroczyste niebieskie tło */
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                    font-size: 10px;
                }
                                               .dynamic-div3 {
                    position: absolute;
                    bottom: 5px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 15px;
                    width: 150px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: orange; /* Przezroczyste niebieskie tło */
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                    font-size: 10px;
                }
                .image-container4:hover .run-button2 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container4:hover .run-button3 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }

                .sentence1bba,
                .sentence1bbab,
                sentence1bb1b,
                sentence1bba2,
                sentence1bb3,
                sentence1bb1c {
                    font-size: 16px;
                    margin-bottom: 0px;
                    z-index: 9999;
                    color: white;
                }
                .sentence1b,
                .sentence1b2,
                .sentence1b2a,
                .sentence1b22,
                .sentence1c2a,
                .sentence1c22 {
                    font-size: 16px;
                    margin-top: 0px;
                    z-index: 9999;
                    color: white;
                }
                .sentence {
                    margin-bottom: -90px;
                    color: white;
                    z-index: 9999;
                    font-size: 15px;
                }

                .sentenceB {
                    margin-top: 80px;
                    color: white;
                    z-index: 9999;
                }
                .sentenceBA {
                    margin-top: 80px;
                    color: white;
                    z-index: 9999;
                    color: blue;
                }
                .sentenceBB {
                    margin-top: 80px;
                    color: white;
                    z-index: 9999;
                }
                .sentenceBC {
                    margin-top: 80px;
                    z-index: 9999;
                    color: white;
                }

                .button1,
                .button2 {
                    height: 0px;
                    width: 0px;
                }
                .highlighted-sentence {
                    background-color: rgba(255, 255, 0, 0.5); /* Kolor tła z opacity */
                    color: white;
                }
                .highlighted-sentence1 {
                    background-color: rgba(255, 255, 0, 0.5); /* Kolor tła z opacity */
                    color: white;
                }
                .highlighted {
                    background-color: #2ecc71;
                    color: red; /* Lub dowolny styl */
                }
                .yellow {
                    color: yellow;
                }
                .green {
                    background-color: rgba(0, 255, 0, 0.5);
                }
                .blue {
                    background-color: rgba(0, 0, 255, 0.5);
                }
                .flashcard-container {
                    width: 1350px;
                    height: 260px;
                    background-color: #2ecc71; /* Zielony kolor, możesz dostosować według potrzeb */
                    display: flex;
                    justify-content: space-around;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    box-sizing: border-box;
                    position: absolute;
                    left: 50%;
                    transform: translateX(-50%);
                    left: 675px;
                    margin-top: 470px;
                }
                #buttoncreate {
                    background-color: blue;
                }
                #buttoncreate.active {
                    background-color: #2ecc71;
                }

                .flashcard-container #konsola {
                    width: 500px;
                    margin-left: -10px;
                    margin-right: -10px;
                }

                #konsola button {
                    border-radius: 8px; /* Tutaj możesz dostosować wielkość zaokrąglenia */
                    /* Dodatkowe style przycisków */
                    border: 1px solid black;
                    padding: 3px;
                    margin: 3px;
                    background-color: #2ecc71;
                    color: white;
                    cursor: pointer;
                }
                .grid-containera {
                    width: 0px;
                    height: 0px;
                    display: grid;
                    grid-template-columns: repeat(4, 1fr);
                    gap: 10px;
                    text-align: center;
                    position: relative;
                    align-items: center;
                }

                .grid-container {
                    display: grid;
                    grid-template-columns: repeat(4, 1fr);
                    margin-bottom: 20px;
                    gap: 20px;
                    position: relative;
                    margin-right: 0px;
                    top: 0px;
                }
                .spacer {
                    height: 20px; /* Dostosuj wysokość przestrzeni spacerowej */
                }

                .image {
                    position: relative;
                    width: 100%;
                    height: auto;
                }

                video {
                    position: relative;
                    width: 100%;
                    height: auto;
                }
                @keyframes scaleAnimation {
                    from {
                        transform: scale(1);
                    }
                    to {
                        transform: scale(1.1); /* Dostosuj poziom powiększenia według preferencji */
                    }
                }

                .scaled-video {
                    animation: scaleAnimation 2s ease-in-out forwards;
                }
                .next-video {
                    transform: scale(1.1);
                }
                .progress-bar {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    height: 5px; /* Wysokość paska postępu */
                    background-color: #007bff; /* Kolor paska postępu */
                }
                .progress-bar2 {
                    position: absolute;
                    bottom: 0;
                    height: 10px; /* Wysokość paska postępu */
                    background-color: #007bff; /* Kolor paska postępu */
                }

                #mojeVideo::-webkit-media-controls {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo::-webkit-media-controls-enclosure {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo::-webkit-media-controls-panel {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo {
                    /* Ukryj kontrolki dla innych przeglądarek */
                    appearance: none;
                    outline: none;
                    width: 100%; /* Dostosuj szerokość wideo */
                    height: auto; /* Dostosuj wysokość wideo */
                }

                .caption {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    font-size: 10px;
                    color: white;
                    width: 100%;
                    text-align: left;
                    box-sizing: border-box;
                    z-index: 1;
                }

                .image:hover .caption {
                    opacity: 1;
                }

                .image {
                    width: 100%;
                    height: auto;
                }

                .caption {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    padding-bottom: 8px;
                    font-size: 15px; /* Rozmiar czcionki */
                    font-family: Arial, sans-serif; /* Wybór czcionki */
                    color: white; /* Ustawienie koloru tekstu na biały */
                    -webkit-text-stroke: 1px blue; /* Obramowanie tekstu w przeglądarkach opartych na silniku WebKit */
                    text-stroke: 1px white; /* Obramowanie tekstu */
                    width: 100%;
                    text-align: left;
                    box-sizing: border-box;
                    z-index: 1;
                }

                .image-container:hover .caption {
                    opacity: 1;
                }

                /* Styl dla paska poziomego z tagami */
                .horizontal-bar {
                    display: flex;
                    justify-content: center;
                    width: 100%;
                    margin-bottom: 10px;
                }

                .horizontal-bar button {
                    padding: 8px 15px;
                    font-size: 16px;
                    border: none;
                    cursor: pointer;
                    border: solid;
                    border-radius: 8px;
                }
                .green-button {
                    background-color: green;
                    color: white;
                }
                .zaznaczony-rodzaj {
                    border: 3px solid green;
                }

                .zaznaczony-charakter {
                    border: 3px solid blue;
                }
.image-container3 #countdown-timer {
    font-size: 12px;          /* standardowy rozmiar na PC */
    font-weight: bold;
    color: green;
    margin: 0 auto;           /* wycentrowanie */
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    line-height: 30px;
    height: 30px;
    width: 250px;
    text-align: center;
    user-select: none;
    text-transform: none;     /* normalne litery */
}
            }
            @media (max-width: 999px) {
                                .grid-containera {
                    display: grid;
                    max-width: 100%;
                    grid-template-columns: repeat(2, 1fr);
                    position: relative;
                    gap: 0px;
                    text-align: center;
                    align-items: center;
                    z-index: 1;
                }

                .grid-container {
                    display: grid;
                    box-sizing: border-box; /* Ustawienie box-sizing */
                    grid-template-columns: repeat(2, 1fr);
                    gap: 3px; /* Można dostosować zgodnie z potrzebami */
                    position: relative;
                    padding-top: 30px; /* Ustawienie marginesów zgodnie z potrzebami */
                    margin-bottom: 0; /* Ustawienie marginesów zgodnie z potrzebami */
                    z-index: 1;
                }
                .grid-containerb {
                    display: grid;
                    box-sizing: border-box; /* Ustawienie box-sizing */
                    max-width: 100%; /* Zapewnienie, że kontener zajmuje 100% szerokości */
                    grid-template-columns: repeat(1, 1fr);
                    gap: 3px; /* Można dostosować zgodnie z potrzebami */
                    position: relative;
                    padding-top: 30px; /* Ustawienie marginesów zgodnie z potrzebami */
                    margin-right: 0; /* Ustawienie marginesów zgodnie z potrzebami */
                    overflow: hidden; /* Ukrywanie wszelkiego poziomego przewijania */
                    z-index: 1;
                }
    .image-container3 #countdown-timer {
        font-size: 5px;      /* mniejszy font na ekranach do 600px */
        line-height: 20px;    /* opcjonalnie zmniejszyć wysokość wiersza */
        height: 20px;         /* zmniejszyć wysokość kontenera */
        width: 180px;         /* dopasować szerokość do małego ekranu */
    }
                    .text-intro {
        margin: 2px 0 2px 0;
        font-size: 8px; /* mniejsza czcionka, żeby wszystko zmieścić */
    }
    .video-item {
        display: flex;
        flex-direction: row;      /* miniatura + tekst obok siebie */
        align-items: center;
        gap: 2px;
        margin: 0;
        padding: 0;
    }

.video-thumb {
    max-width: 45px;   /* ograniczenie szerokości */
    max-height: 22px;  /* ograniczenie wysokości */
    width: auto;       /* zachowanie proporcji */
    height: auto;      /* zachowanie proporcji */
    object-fit: cover; /* przycina, jeśli kontener większy */
    border-radius: 4px;
}

    .video-text {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 1px;
    }

    .video-name {
        font-size: 8px;
        margin: 0;
        line-height: 1;
    }

    .video-subtext {
        font-size: 6px;
        margin: 0;
        line-height: 1;
    }

                
  .category-btn {
    background-color: #800080; /* Filetowy kolor dla wszystkich przycisków */
    color: white;
    border: none;
    padding: 2px 7px;
    margin: 5px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
  }
    .category-btn5 {
    background-color: gray; /* Filetowy kolor dla wszystkich przycisków */
    color: white;
    border: none;
    padding: 2px 7px;
    margin: 5px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
  }

  .category-btn[data-category="sport"] {
    background-color: #28a745; /* Zielony kolor dla sportu */
  }

  .category-btn[data-category="natura"] {
    background-color: #007bff; /* Niebieski kolor dla natury */
  }
  .category-btn[data-category="nauka"] {
    background-color: #dc3545; /* Czerwony kolor dla nauki */
  }
  .category-btn[data-category="czarny humor"] {
    background-color: orange; /* Żółty kolor dla czarnego humoru */
  }

  .category-btn[data-category="zwiazki"] {
    background-color: #fd7e14; /* Pomarańczowy kolor dla związków */
  }
    .active-category {
    border: 6px solid black; /* Czarna ramka dla aktywnej kategorii */
    box-sizing: border-box; /* Ważne, aby uwzględnić ramkę w układzie */
  }
                .highlighted-range {
  background-color: green;
}
                                .hidden-link {
    position: absolute;
    left: -9999px;
    visibility: hidden;
}
                                .search-wrapper {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: -100px;
}

input {
  font-size: 1rem;
}

.user-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: .25rem;
  margin-top: 1rem;
}

.card {
  border: 1px solid black;
  background-color: white;
  padding: .5rem;
}

.card > .header {
  margin-bottom: .25rem;
}

.card > .body {
  font-size: .8rem;
  color: #777;
}

.hide {
  display: none;
}
                /* Stylizacja modala */
                #part {
                    text-align: center;
                }
                .modal {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    position: fixed;
                    z-index: 1000;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.7);
                }

                .modal-content {
                    background-color: white;
                    padding: 20px;
                    border-radius: 8px;
                    text-align: center;
                }

                button123 {
                    padding: 10px 20px;
                    margin-top: 10px;
                    border: none;
                    background-color: #4CAF50;
                    color: white;
                    cursor: pointer;
                    border-radius: 5px;
                }

                button123:hover {
                    background-color: #45a049;
                }
                /* Styl dla głównego kontenera */
                .container {
                    display: flex;
                    max-width: 100%; /* Zapobiega przekroczeniu szerokości ekranu */
                    box-sizing: border-box;
                }
                .content-container {
                                        max-width: 100%;
                    position: relative;
                }
                /* Styl dla menu pionowego */
                .side-menu {
                    display: none;
                    width: 118px;
                    margin-right: 20px;
                }

                .side-menu button {
                    display: none;
                    margin-bottom: 10px;
                    width: 100%;
                    padding: 8px 15px;
                    font-size: 16px;
                    border: none;
                    cursor: pointer;
                }
                .left-button,
                .left-buttonb,
                .left-buttonbb {
                    font-size: 7px;
                    width: 20px;
                    height: 20px;
                    color: orange;
                    border-radius: 5px;
                }
                @keyframes blinkBackground {
                    0% {
                        background-color: yellow;
                    }
                    50% {
                        background-color: transparent;
                    }
                    100% {
                        background-color: yellow;
                    }
                }

                .blinking {
                    animation: blinkBackground 1s infinite;
                }
                .image-container {
                    width: 330px;
                    position: relative;
                    height: auto;
                    left: 0px;
                    margin-right: 0px;
                }

                .image-container2 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    max-width: 100%; /* Zapobiega przekroczeniu szerokości ekranu */
                    position: relative;
                    height: 100px;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                }

.image-container3 {
    position: absolute; /* zamiast relative */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 9999;
}
                .image-container3b {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    position: relative;
                    box-sizing: border-box;
                    align-items: center;
                    font-size: 20px;
                    z-index: 10000
}
                }/* Tło */
                .run-button4 {
    position: absolute;
    z-index: 99999;
    font-size: 16px;
    background-color: yellow;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    z-index: 10001; /* zawsze nad rodzeństwem */
}
                .background-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: yellow;
                    opacity: 0.7;
                    z-index: 1000; /* Wysoki z-index, aby było na wierzchu */
                }

                .background-video {
                    min-height: 100px;
                    min-width: 100%;
                    position: absolute;
                    border-left: 3px solid orange;
                    border-top: 3px solid orange;
                    border-right: 3px solid orange;
                    border-bottom: 3px solid orange;
                    z-index: 1; /* Wideo, ustaw na niższy z-index */
                }
                .background-video22 {
                    min-height: 100px;
                    min-width: 100%;
                    position: absolute;
                    border-left: 3px solid orange;
                    border-top: 3px solid orange;
                    border-right: 3px solid orange;
                    border-bottom: 3px solid orange;
                    z-index: 1; /* Wideo, ustaw na niższy z-index */
                }

                                                .image-container4 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    position: relative;
                    height: auto;
                    min-height: 100px;
                    width: 100%;
                    box-sizing: border-box;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                    order: -1; /* Kolejność odwrotna - spycha w dół */
                }
                                                                .image-container4:hover {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    position: relative;
                    height: auto;
                    min-height: 100px;
                    width: 100%;
                    box-sizing: border-box;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 20px;
                    margin-top: 10px;
                    order: -1; /* Kolejność odwrotna - spycha w dół */
                    z-index: 110;
                }
                                #wordDisplay {
    position: absolute;
    bottom: -20px;
    cursor: pointer;
    font-size: 18px;
    left: 20px;
    width: 130px;
    height: 27px;
    text-align: center;
    line-height: 30px;
    color: black;
    z-index: 101;
    background-color: lightgray;
    border-radius: 8px;
    border: 2px solid black;
}
                .image-container5 {
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    background-color: blue;
                    position: relative;
                    height: auto;
                    min-height: 100px;
                    width: 100%;
                    box-sizing: border-box;
                    margin-bottom: 0px;
                    align-items: center;
                    font-size: 15px;
                    margin-top: 10px;
                    order: -1; /* Kolejność odwrotna - spycha w dół */
                }/* Tło */
                .scene-description {
                    position: absolute;
                    font-size: 10px;
                    top: 5px; /* Odległość od górnej krawędzi kontenera */
                    right: -120px; /* Przesunięcie w lewo o 120 pikseli, aby wystawał poza prawą krawędź */
                    background-color: #000;
                    color: #fff;
                    padding: 5px 10px;
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                }
                .scene-description2 {
                    position: absolute;
                    font-size: 10px;
                    top: 5px; /* Odległość od górnej krawędzi kontenera */
                    left: -100px; /* Odległość od górnej krawędzi kontenera */
                    background-color: #000;
                    color: #fff;
                    padding: 5px 10px;
                    z-index: 1000;
                    white-space: nowrap; /* Zapobiega zawijaniu tekstu */
                }
                .slide-button {
                    position: absolute; /* Position relative to the container */
                    bottom: 10px;
                    right: -40px; /* Start position off-screen */
                    width: 30px;
                    height: 30px;
                    cursor: pointer;
                    border-radius: 8px;
                    background-color: blue;
                    color: white;
                    display: none; /* Hide initially */
                    z-index: 1000001; /* Ensure it's above other elements */
                }
                .container:hover .overlay {
                    transform: translateX(0); /* Przesuwanie div-a na swoje miejsce */
                }
                .image-container3:hover .overlay {
                    opacity: 1; /* Nakładka widoczna przy najechaniu */
                }
                                .image-container3b:hover .overlay {
                    opacity: 1; /* Nakładka widoczna przy najechaniu */
                }

                .run-button {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 330px;
                    transform: translate(-50%, -50%);
                    display: none; /* Ukrycie przycisku */
                    z-index: 999999999; /* Wyższy z-index, aby przycisk był na wierzchu */
                }

                .image-container3:hover .run-button {
                    display: block; /* Wyświetlenie przycisku na hover */
                    z-index: 99999; /* Wyższy z-index na hover */
                }
                .image-container3b:hover .run-button {
                    display: block; /* Wyświetlenie przycisku na hover */
                    z-index: 99999; /* Wyższy z-index na hover */
                }

                .image-container3:hover {
                    z-index: 99999; /* Wyższy z-index na hover */
                }

                .image-container3 .run-button3 {
                    display: none; /* Domyślnie ukryty przycisk */
                }

                .image-container3:hover .run-button3 {
                    display: block; /* Pokazywanie przycisku na hover */
                    z-index: 999999; /* Z-index wyższy niż inne elementy */
                }
                .image-container3b:hover {
                    z-index: 99999; /* Wyższy z-index na hover */
                }

                .image-container3b .run-button3 {
                    display: none; /* Domyślnie ukryty przycisk */
                }

                .image-container3b:hover .run-button3 {
                    display: block; /* Pokazywanie przycisku na hover */
                    z-index: 999999; /* Z-index wyższy niż inne elementy */
                }
                .run-button2 {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    display: none; /* Ukrycie przycisku */
                    z-index: 2; /* Wyższy z-index, aby przycisk był na wierzchu */
                }
                .run-button3 {
                    display: none;
                    position: absolute;
                    margin-bottom: -140px;
                    z-index: 9999999;
                }
                .dynamic-div {
                    position: absolute;
                    top: 10px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 10px;
                    width: 70px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: rgba(255, 0, 0, 0.5); /* Przezroczyste tło */
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                }
                                .dynamic-div2 {
                    position: absolute;
                    top: 10px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 10px;
                    width: 70px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: rgba(0, 0, 255, 0.5);
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                }
                                               .dynamic-div3 {
                    position: absolute;
                    bottom: 5px; /* Ustawienie w dowolnym miejscu w kontenerze */
                    left: 10px;
                    font-size: 15px;
                    width: 150px; /* Szerokość dynamicznego div-a */
                    height: 20px; /* Wysokość dynamicznego div-a */
                    background-color: orange; /* Przezroczyste niebieskie tło */
                    color: white;
                    z-index: 1000; /* Wyższy z-index, aby był nad overlay */
                    display: none; /* Początkowo ukryty */
                    font-size: 10px;
                }
                                .image-container4:hover .run-button {
                                    z-index: 105;
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container4:hover .run-button2 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container4:hover .run-button3 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container4b:hover .run-button2 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .image-container4b:hover .run-button3 {
                    display: block; /* Wyświetlenie przycisku na hover */
                }
                .sentence1b,
                .sentence1b2,
                .sentence1b22,
                .sentence1b2a,
                .sentence1c22,
                .sentence1c2a {
                    font-size: 7px;
                    z-index: 99999999;
                    color: white;
                }
                .sentence1bba,
                .sentence1bbab {
                    font-size: 10px;
                    z-index: 9999;
                }

                .sentence {
                    font-size: 8px;
                    margin-bottom: -60px;
                    color: white;
                    z-index: 9999;
                }

                .sentenceBA {
                    font-size: 9px;
                    margin-top: 150px;
                    color: white;
                    z-index: 9999;
                }
                .sentenceBB {
                    font-size: 10px;
                    margin-bottom: -25px;
                    color: white;
                    z-index: 9999;
                }
                .sentenceBC {
                    font-size: 12px;
                    margin-bottom: 60px;
                    color: white;
                    z-index: 9999;
                }

                .sentence10,
                .sentence11,
                .sentence20,
                .sentence22,
                .sentence30,
                .sentence33 {
                    font-size: 8px;
                    color: white;
                    z-index: 1;
                }

                .button1,
                .button2 {
                    height: 0px;
                    width: 0px;
                }
                .highlighted-sentence {
                    background-color: rgba(255, 255, 0, 0.5); /* Kolor tła z opacity */
                    color: white;
                }
                .highlighted-sentence1 {
                    background-color: rgba(255, 255, 0, 0.5); /* Kolor tła z opacity */
                    color: white;
                }
                .yellow {
                    color: yellow;
                }
                .green {
                    background-color: green;
                }
                .flashcard-container {
        max-width: 100%;
        height: 470px;
        background-color: #2ecc71;
        display: flex
;
        justify-content: space-around;
        align-items: center;
        padding: 10px;
        box-sizing: border-box;
        position: absolute;
        margin-top: 770px;
                }
                #buttoncreate {
                    background-color: blue;
                }
                #buttoncreate.active {
                    background-color: #2ecc71;
                }

    .flashcard-container #konsola {
        display: block;
        width: 100%;
        max-width: 100%; /* Zapobiega wychodzeniu poza ekran */
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
        overflow-x: hidden; /* Wymusza brak poziomego przesunięcia */
    }
    .flashcard-container #konsola2 {
        display: block;
        width: 100%;
        max-width: 100%; /* Zapobiega wychodzeniu poza ekran */
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
        overflow-x: hidden; /* Wymusza brak poziomego przesunięcia */
    }
                .flashcard-container #konsola3 {
                    display: none;
        width: 100%;
        max-width: 100%; /* Zapobiega wychodzeniu poza ekran */
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
        overflow-x: hidden; /* Wymusza brak poziomego przesunięcia */
                }
                .flashcard-container #konsola4 {
                    display: none;
        width: 100%;
        max-width: 100%; /* Zapobiega wychodzeniu poza ekran */
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
        overflow-x: hidden; /* Wymusza brak poziomego przesunięcia */
                }
                .word-span.current {
                    background-color: yellow; /* lub inny kolor */
                    font-weight: bold;
                }
    .word-span {
        font-size: 9px;
        height: 9px; /* Ustaw stałą wysokość */
        line-height: 9px; /* Dopasuj do wysokości */
        text-align: center;
        color: yellow;
        cursor: pointer;
        display: inline-block;
        padding: 5px;
        margin: 3px;
        background-color: blue;
        border-radius: 5px;
    }

                .word-span:hover {
                    cursor: pointer; /* Zmiana kursora na pointer */
                    background-color: #007BFF; /* Zmiana koloru tła po najechaniu */
                    color: white; /* Zmiana koloru tekstu po najechaniu */
                }
                /* Styl dla podświetlonego słowa */
                .highlighted {
                    cursor: pointer; /* Zmiana kursora na pointer */
                    background-color: green; /* Kolor podświetlenia */
                }
                #konsola button {
                    border-radius: 8px; /* Tutaj możesz dostosować wielkość zaokrąglenia */
                    /* Dodatkowe style przycisków */
                    border: 1px solid black;
                    padding: 3px;
                    margin: 3px;
                    background-color: #2ecc71;
                    color: white;
                    cursor: pointer;
                }
                #konsola2 button {
                    display: none;
                    border-radius: 8px; /* Tutaj możesz dostosować wielkość zaokrąglenia */
                    /* Dodatkowe style przycisków */
                    border: 1px solid black;
                    padding: 3px;
                    margin: 3px;
                    background-color: #2ecc71;
                    color: white;
                    cursor: pointer;
                }


                body {
                    overflow-x: hidden; /* Ukrywanie poziomego przewijania w body */
                }
                .spacer {
                    height: 20px; /* Dostosuj wysokość przestrzeni spacerowej */
                }

                .image {
                    position: relative;
                    width: 100%;
                    height: auto;
                }

                video {
                    position: relative;
                    max-width: 100%;
                    height: 100%;
                    top: 0px;
                    bottom: 0px;
                    margin-top: 0px;
                    margin-bottom: 0px;
                    object-fit: cover;  /* Zapewnia wypełnienie całego kontenera bez luk */
                }
                @keyframes scaleAnimation {
                    from {
                        transform: scale(1);
                    }
                    to {
                        transform: scale(1.1); /* Dostosuj poziom powiększenia według preferencji */
                    }
                }

                .scaled-video {
                    animation: scaleAnimation 2s ease-in-out forwards;
                }
                .next-video {
                    transform: scale(1.1);
                }
                .progress-bar {
                    position: absolute;
                    bottom: 3px;
                    left: 0;
                    height: 4px; /* Wysokość paska postępu */
                    background-color: #007bff; /* Kolor paska postępu */
                }
                .progress-bar2 {
                    position: absolute;
                    bottom: 3px;
                    height: 4px; /* Wysokość paska postępu */
                    background-color: #007bff; /* Kolor paska postępu */
                }

                #mojeVideo::-webkit-media-controls {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo::-webkit-media-controls-enclosure {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo::-webkit-media-controls-panel {
                    /* Ukryj kontrolki dla przeglądarek opartych na silniku Chromium (np. Chrome) */
                    display: none !important;
                }

                #mojeVideo {
                    /* Ukryj kontrolki dla innych przeglądarek */
                    appearance: none;
                    outline: none;
                    width: 100%; /* Dostosuj szerokość wideo */
                    height: auto; /* Dostosuj wysokość wideo */
                }

                .caption {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    font-size: 10px;
                    color: white;
                    width: 100%;
                    text-align: left;
                    box-sizing: border-box;
                    z-index: 1;
                }

                .image:hover .caption {
                    opacity: 1;
                }

                .image {
                    width: 100%;
                    height: auto;
                }

                .caption {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    padding-bottom: 8px;
                    font-size: 15px; /* Rozmiar czcionki */
                    font-family: Arial, sans-serif; /* Wybór czcionki */
                    color: white; /* Ustawienie koloru tekstu na biały */
                    -webkit-text-stroke: 1px blue; /* Obramowanie tekstu w przeglądarkach opartych na silniku WebKit */
                    text-stroke: 1px white; /* Obramowanie tekstu */
                    width: 100%;
                    text-align: left;
                    box-sizing: border-box;
                    z-index: 1;
                }

                .image-container:hover .caption {
                    opacity: 1;
                }

                /* Styl dla paska poziomego z tagami */
                .horizontal-bar {
                    display: flex;
                    justify-content: center;
                    width: 100%;
                    margin-bottom: 10px;
                }

                .horizontal-bar button {
                    padding: 8px 15px;
                    font-size: 16px;
                    border: none;
                    cursor: pointer;
                    border: solid;
                    border-radius: 8px;
                }
                .green-button {
                    background-color: green;
                    color: white;
                }
                .zaznaczony-rodzaj {
                    border: 3px solid green;
                }

                .zaznaczony-charakter {
                    border: 3px solid blue;
                }
                .bottom-bar {
                    position: fixed;
                    bottom: -60px; /* Domyślnie schowany */
                    left: 0;
                    max-width: 100%;
                    height: 60px;
                    background-color: #333;
                    display: flex;
                    justify-content: space-around;
                    align-items: center;
                    padding: 0 10px;
                    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
                    z-index: 1000;
                    transition: transform 0.3s ease;
                }

                .show {
                    transform: translateY(-60px); /* Pasek widoczny po załadowaniu */
                }
                .hidden {
                    transform: translateY(100%); /* Schowanie paska poza ekran */
                }
                .bottom-button {
                    background-color: #4CAF50;
                    color: white;
                    border: none;
                    padding: 10px;
                    font-size: 8px;
                    border-radius: 5px;
                    cursor: pointer;
                }
                .bottom-button2 {
                    width: 50px;                  /* Ustaw szerokość przycisku */
                    height: 30px;                 /* Ustaw wysokość przycisku (opcjonalnie) */
                    background-color: transparent; /* Tło przezroczyste */
                    border: none;                 /* Usuwa obramowanie */
                    cursor: pointer;              /* Ustawia kursor na wskaźnik */
                    overflow: hidden;             /* Ukrywa wszelkie elementy wychodzące poza przycisk */
                    padding: 0;                   /* Ustawia padding na 0 */
                }
                .bottom-button:hover {
                    background-color: #45a049;
                }

                .lupka {
                    position: absolute; /* Pozwala na pozycjonowanie w kontekście rodzica */
                    width: 40px; /* Ustaw szerokość obrazka */
                    height: 40px; /* Ustaw wysokość obrazka */
                    cursor: pointer;
                    background-color: green;
                    border-radius: 8px;
                    right: 10px; /* Dostosuj pozycjonowanie, aby był w prawym rogu */
                    top: 10px; /* Ustaw odległość od dołu */
                    right: 25px;
                }

                .toggle-button {
                    position: fixed;
                    bottom: 0;
                    right: 20px;
                    background-color: #333;
                    color: white;
                    padding: 10px;
                    border-radius: 50%;
                    cursor: pointer;
                    z-index: 1001;
                    transition: bottom 0.3s ease;
                }

                #arrow {
                    font-size: 20px;
                }

                .show-toggle-button {
                    bottom: 60px; /* Strzałka przesuwa się do góry gdy pasek jest widoczny */
                }
                  #adblockMessage {
    width: 90%;
    padding: 20px;
    font-size: 16px;
    bottom: 15px;
  }

  #adblockMessage button {
    padding: 10px 15px;
    font-size: 16px;
  }
            }
        </style>
    </head>
    <body>

        <a href="demo1angielski.html?category=sport&data=1,2,3" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 1</a>
                <a href="demo1angielski.html?category=sport&data=4,5,6" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 2</a>
        <a href="demo1angielski.html?category=natura&data=1,2,3" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 1</a>
                <a href="demo1angielski.html?category=natura&data=4,5,6" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 2</a>
        <a href="demo1angielski.html?category=nauka&data=1,2,3" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 1</a>
                <a href="demo1angielski.html?category=nauka&data=4,5,6" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 2</a>          
        <a href="demo1angielski.html?category=czarny%20humor&data=1,2,3" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 1</a>
                <a href="demo1angielski.html?category=czarny%20humor&data=4,5,6" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 2</a>    
        <a href="demo1angielski.html?category=zwiazki&data=1,2,3" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 1</a>
                <a href="demo1angielski.html?category=zwiazki&data=4,5,6" class="hidden-link lesson-link-1b" target="_blank" rel="noopener noreferrer">Przejdź do lekcji 2</a>

<h1>arbulang.com</h1>
    <h2>ARBU ŚWIAT</h2>
        <div class="horizontal-bar" id="horizontalBar1">
            <button id="myButton">ANGIELSKI</button>
            <button id="myButton2">HISZPAŃSKI</button>
        </div>
        <div class="horizontal-bar" id="horizontalBar2">
        </div>
        <div class="container">
            <div class="side-menu">
                <button onclick="showImages('set1')">PRZEBYTE LEKCJE</button>
                <button onclick="showImages('set2')">LEKCJE STWORZONE INDYWIDUALNIE</button>
                <button onclick="showImages('set3')">SŁÓWKA KTÓRE ZNAM</button>
                <button onclick="showImages('set4')">SŁÓWKA TRENING</button>
                <button onclick="showImages('set2')">SŁÓWKA NAUCZONE</button>
                <button onclick="showImages('set1')">POLUBIONE SŁOWKA</button>
                <button onclick="showImages('set2')">SŁÓWKA TEMATYCZNE</button>
            </div>
            <div class="content-container">
                <div class="grid-containera">
                    <div class="image-container2b">Standard<button onclick="showImages('set1')"> LOSUJ LEKCJE</button>
                    </div>
                    <div class="image-container2" id="buttoncreate">Generowanie fiszki<button id="flashcardButton" onclick="addFlashcardContainer()">OTWÓRZ KONSOLE</button>
                    </div>
                    <div class="image-container2b">Kartkówka<button onclick="showImages('set1')">START</button>
                    </div>
                    <div class="image-container2b">Tłumacz tekst<button onclick="showImages('set1')">START</button>
                    </div>
                </div>

<div class="search-container">
    <div class="search-wrapper">
        <label for="search">Search Word</label>
        <input type="search" id="search" data-search>
    </div>
    <div class="button-container">
        <button id="polski" class="rodzaj-button2">Polski</button>
        <button id="angielski" class="rodzaj-button2">Angielski</button>
    </div>
</div>
                <div>
    <button id="singleSentenceBtn" class="rodzaj-button">Jedno zdanie (DZIAŁA)</button>
    <button id="threeSentencesBtn" class="rodzaj-button">Trzy zdania (DZIAŁA)</button>
    <button id="singleWordBtn" class="rodzaj-button">Pojedyncze słowo</button>
                </div><br>
                <div id="matchingButtonsContainer" style="margin-top: 10px;"></div>
                <p id="key3Result"></p>
                <button class="left-button2">+<br></button>TE LEKCJE MAJĄ DOSTĘPNE SKOJARZENIA W WIĘKSZYM ZAKRESIE TEMATÓW (DZIAŁA)
<div class="user-cards" data-user-cards-container></div>
                <div id="category-buttons">
  <button class="category-btn5" data-category="wszystkie"
    onclick="przekazArgument0(tablica7[0], tablica3[2], '', false, 'fiszki', true, true, tablica3[1], 'other', false, '', '', '', '', 100)">
    Wszystkie
  </button>
  <button class="category-btn" data-category="all">Losowo</button>
  <button class="category-btn" data-category="sport">Sport</button>
  <button class="category-btn" data-category="natura">Natura</button>
  <button class="category-btn" data-category="nauka">Nauka</button>
  <button class="category-btn" data-category="czarny humor">Czarny humor</button>
  <button class="category-btn" data-category="zwiazki">Związki</button>
</div>

<template data-user-template>
    <div class="card">
        <div class="header" data-header></div>
        <div class="body" data-body></div>
    </div>
</template>

                <div class="grid-container">
                </div>
            </div>
        </div>

        <div class="bottom-bar" id="bottomBar">
            <button class="bottom-button" onclick="ustawTryb('zdania', undefined); przekazArgument0(globalCategory, '', '', 'zdania', false, false, tablica3[1])">1 ZDANIE / LEKCJA</button>
            <button class="bottom-button" onclick="ustawTryb('fiszki', undefined); przekazArgument0(globalCategory, '', '', 'fiszki', false, false, tablica3[1])">3 ZDANIA / LEKCJA</button>
            <button class="bottom-button" onclick="ustawTryb(tablica3[0], 'frazy'); przekazArgument0(globalCategory, '', '', tablica3[0], true, true, tablica3[1])">FRAZY</button>
            <button class="bottom-button">SŁOWA</button>
            <button id="searchButton" class="bottom-button2" onclick="zmienLupke()">
                <img src="img/lupki3fa.png" alt="Szukaj" class="lupka" id="lupkaImage">
            </button>
        </div>
          
        <div class="toggle-button" id="toggleButton">
            <span id="arrow">&#9660;</span> <!-- Strzałka skierowana w dół -->
        </div>

        <script>
// Dodaj przycisk do kontenera
$(".grid-container").append(`
    <button id="startButton" class="floating-btn">▶ Start Arbu świat</button>
`);

// Nadaj mu styl, żeby był "pływający"
$(".floating-btn").css({
    position: "fixed",
    bottom: "15px",
    right: "15px",
    backgroundColor: "#4caf50",
    color: "white",
    border: "none",
    padding: "12px 20px",
    fontSize: "16px",
    borderRadius: "8px",
    cursor: "pointer",
    boxShadow: "0 4px 6px rgba(0,0,0,0.2)",
    zIndex: 999999999999
});

// Flaga globalna
let flagaPrzycisku = [];
let flagaPrzycisku2 = [];

$(document).on("click", "#startButton", function () {
    console.log("Kliknięto Start");

    console.log("tablica7:", tablica7);
    console.log("tablica3:", tablica3);
    console.log("ustawTryb:", typeof ustawTryb);
    console.log("przekazArgument0:", typeof przekazArgument0);

    flagaPrzycisku[0] = true;
    flagaPrzycisku2[0] = false;
    console.log('110', flagaPrzycisku, flagaPrzycisku2);
    ustawTryb('fiszki');
    przekazArgument0(tablica7[0], 'all', '', false, 'fiszki', true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', '', '', '', true, false, true);
    console.log("✅ Flaga przycisku ustawiona na TRUE");
});
  // Pokaż tylko raz
  window.addEventListener('DOMContentLoaded', () => {
    if (!localStorage.getItem('adblockMessageClosed')) {
      document.getElementById('adblockMessage').style.display = 'block';
    }
  });

  function closeAdblockMessage() {
    document.getElementById('adblockMessage').style.display = 'none';
    localStorage.setItem('adblockMessageClosed', 'true');
  }
        function countUniqueFiszki(fiszkiArray) {
            const seenKeys = new Set();
            fiszkiArray.forEach(fiszka => {
                if (fiszka.key) {
                    seenKeys.add(fiszka.key);
                }
            });
            return seenKeys.size;
        }

        const uniqueCount = countUniqueFiszki(fiszki10);
        console.log("Liczba unikalnych fiszek:", uniqueCount);
            const tablica20 = [];
            let buttonindex = false;
              // Zaznacz przycisk "Losowo" na początku
let tablica55 = [];
let selectedCategory = 'wszystkie'; // Domyślnie losowo
const tablica45xx = []; // Tablica kategorii
let indexDivRange = 19;
let numberb = false;
$('#category-buttons .category-btn').on('click', function () {
    $('#category-buttons .category-btn').removeClass('active-category');
    $(this).addClass('active-category');
indexDivRange = '1'; // Zakres od 1 do 3
    const selectedCategoryText = $(this).text(); // np. "Sport"
    console.log("Wybrano kategorię:", selectedCategoryText);
    tablica7[0] = $(this).data('category'); // <-- poprawione
    console.log('Wybrana kategoria:', tablica7[0]);
if (tablica55[0] === true) {
    przekazArgument0(tablica7[0], 'all', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', indexDivRange, '', '');
} else if (tablica55[1] === true) {
    $('.grid-container .image-container3b').remove();
    przekazArgument0(tablica7[0], 'all', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', indexDivRange, '', '');
}
    $('.run-button3').each(function () {
        $(this).text('Otwórz lekcję w nowym oknie - ' + selectedCategoryText);
    });
});
$(document).ready(function () {
  // domyślnie zaznaczony
  $('#category-buttons .category-btn5[data-category="wszystkie"]').addClass('active-category');

  // po kliknięciu w dowolny przycisk
  $('#category-buttons button').on('click', function () {
    $('#category-buttons button').removeClass('active-category'); // usuń z innych
    $(this).addClass('active-category'); // dodaj do klikniętego
  });
});
</script>
                                    <script src="wyszukiwarka.js"></script>
            <script>
    

        document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.czas40').forEach(btn => btn.style.border = '1px solid black');

    // Pobierz pierwszy przycisk z klasą 'czas40' i zaznacz go domyślnie
    const firstButton = document.querySelector('#threeSentencesBtn');
    const secondButton = document.querySelector('#angielski');
    if (firstButton || secondButton) {
        firstButton.style.border = '2px solid blue';
        secondButton.style.border = '2px solid blue';
    }
        document.querySelectorAll('.rodzaj-button').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.rodzaj-button').forEach(btn => btn.style.border = '1px solid black');
                this.style.border = '2px solid blue';
            });
        });
                document.querySelectorAll('.rodzaj-button2').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.rodzaj-button2').forEach(btn => btn.style.border = '1px solid black');
                this.style.border = '2px solid blue';
            });
        });
    });
    
function showFiszkiForLesson5d(matchingFiszki1v, tablica41) {
    if (tablica41.length > 0) {
    matchingFiszki1v.forEach((fiszka, index) => {
        let id = fiszka; // Pobranie id z matchingFiszki
        let parametr = tablica41[index] || ''; // Pobranie odpowiadającej wartości z tablica41

        if (Array.isArray(fiszka)) {
            // Połącz wartości z tablicy id w jeden ciąg znaków oddzielony przecinkami
            id = fiszka.slice(0, 3).join(',');
            // Obsługa dodatkowego parametru (np. czwartego elementu w tablicy)
            parametr = fiszka.length > 3 ? fiszka[3] : parametr;
        }

        // Tworzenie klasy CSS dla fiszki
        const className = `fiszka-${id}${parametr ? '\\,' + parametr : ''}`;
        console.log(`Tworzę fiszkę z klasą: ${className}`);

        generateFiszkaBlock3(id, parametr);
    });
}
}
            var tablica3 = [];


            let aktualnyObraz = true; // Zmienna do śledzenia aktualnego stanu obrazu

            function zmienLupke() {
                const lupkaImage = document.getElementById('lupkaImage');
                const obrazPierwszy = 'img/lupki3fa.png'; // Ścieżka do pierwszego obrazka
                const obrazDrugi = 'img/lupki3g3.png'; // Ścieżka do drugiego obrazka

                // Przełączanie obrazka
                if (aktualnyObraz) {
                    lupkaImage.src = obrazDrugi; // Zmień na drugi obraz
                    // Zmień klasy na grid-containerb oraz image-container3b
                    $('.grid-container').removeClass('grid-container').addClass('grid-containerb');
                    $('.image-container3').removeClass('image-container3').addClass('image-container3b');
                } else {
                    lupkaImage.src = obrazPierwszy; // Zmień na pierwszy obraz
                    // Zmień klasy z powrotem na grid-container oraz image-container3
                    $('.grid-containerb').removeClass('grid-containerb').addClass('grid-container');
                    $('.image-container3b').removeClass('image-container3b').addClass('image-container3');
                }

                // Zmień stan na przeciwny
                aktualnyObraz = !aktualnyObraz;
            }
            // Funkcja do zmiany szerokości okna
            function simulateResize(width) {
                document.documentElement.style.setProperty('--viewport-width', width + 'px');
                window.dispatchEvent(new Event('resize'));
            }

            // Ustawienie szerokości na 768px dla widoku mobilnego
            simulateResize(768);
        </script>
        <script>

            const bottomBar = document.getElementById('bottomBar');
            const toggleButton = document.getElementById('toggleButton');
            const arrow = document.getElementById('arrow');

// Pokaż pasek i strzałkę nad nim po załadowaniu strony
            window.addEventListener('load', function () {
                bottomBar.classList.add('show'); // Pasek widoczny
                toggleButton.classList.add('show-toggle-button'); // Strzałka nad paskiem

                // Automatyczne schowanie paska po 3 sekundach
                setTimeout(function () {
                    bottomBar.classList.remove('show');
                    bottomBar.classList.add('hidden'); // Schowanie paska
                    arrow.innerHTML = '&#9650;'; // Zmiana strzałki na skierowaną w górę
                    toggleButton.classList.remove('show-toggle-button'); // Strzałka wraca na dół
                }, 3000); // 3000 ms = 3 sekundy
            });

// Strzałka do ręcznego rozwijania i chowania paska
            toggleButton.addEventListener('click', function () {
                if (bottomBar.classList.contains('show')) {
                    bottomBar.classList.remove('show');
                    bottomBar.classList.add('hidden');
                    arrow.innerHTML = '&#9650;'; // Strzałka w górę (chowanie paska)
                    toggleButton.classList.remove('show-toggle-button'); // Strzałka wraca na dół
                } else {
                    bottomBar.classList.remove('hidden');
                    bottomBar.classList.add('show');
                    arrow.innerHTML = '&#9660;'; // Strzałka w dół (rozwijanie paska)
                    toggleButton.classList.add('show-toggle-button'); // Strzałka nad paskiem
                }
            });
            function blinkButton() {
                const button = document.getElementById('flashcardButton');
                let blinkCount = 0;

                const interval = setInterval(() => {
                    button.style.visibility = (button.style.visibility === 'hidden') ? 'visible' : 'hidden';
                    blinkCount++;

                    if (blinkCount === 4) { // 6 przełączeń widoczności (3 mignięcia)
                        clearInterval(interval);
                        button.style.visibility = 'visible'; // Upewnij się, że przycisk jest widoczny na końcu
                    }
                }, 200); // 300 ms przerwy pomiędzy mignięciami
            }

// Uruchomienie mignięcia po załadowaniu strony
            window.onload = function () {
                blinkButton();
            };
            document.getElementById('myButton').addEventListener('click', function () {
                window.location.href = 'https://www.arbulang.com/matrix.html';
            });
            document.getElementById('myButton2').addEventListener('click', function () {
                window.location.href = 'https://www.arbulang.com/matrix2.html';
            });




            function highlightButton(buttonId, horizontalBarId) {
                // Reset all buttons in the specified horizontal bar to default style
                document.querySelectorAll(`#${horizontalBarId} button`).forEach(button => {
                    button.classList.remove('green-button');
                });

                // Highlight the clicked button
                document.getElementById(buttonId).classList.add('green-button');
            }

            // Add event listeners to buttons in the first horizontal bar
            document.getElementById('myButton').addEventListener('click', function () {
                showVideos('set2');
                highlightButton('myButton', 'horizontalBar1');
            });

            document.getElementById('myButton2').addEventListener('click', function () {
                showVideos('set3');
                highlightButton('myButton2', 'horizontalBar1');
            });

            function addFlashcardContainer() {
                var $flashcardContainer = $('<div>', {class: 'flashcard-container'});
                $('#buttoncreate').addClass('active');

                // Dodaj buttony do diva
                $flashcardContainer.append(`
<div id="konsola">
    <div id="title">WIDOK</div>
<button id="inne" class="rodzaj-button" data-rodzaj="osoby">SPOŁECZNOŚCIOWY</button>        
        <button class="charakter-button" onclick="ustawTryb(tablica3[0]); przekazArgument0(globalCategory, '', '', 'fiszki', false, false, 'losowyuklad')">WYGENEROWANY JEDNORAZOWO</button>
            <div id="title">RODZAJ SŁOWNICTWA</div>
                    <button id="inne" class="rodzaj-button" data-rodzaj="osoby">KOGNATY</button>
    <button id="osoby" class="rodzaj-button" data-rodzaj="osoby" onclick="przekazArgument0('', 'all', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">Wszystkie</button>
<button id="osobyButton" class="rodzaj-button" data-rodzaj="osoby"
  onclick="przekazArgument0('', 'osoby', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Osoby (Rodzina, zaimki, zawody)</span>
  <span id="liczbaOsoby" style="margin-left: 8px; font-weight: bold;"></span>
</button>
<button id="zaimkiButton" class="rodzaj-button" data-rodzaj="osoby"
  onclick="przekazArgument0('', 'zaimkiosobowe', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Zaimki osobowe</span>
  <span id="liczbaZaimki" style="margin-left: 8px; font-weight: bold;"></span>
</button>
            <button id="spojnikiButton" class="rodzaj-button" data-rodzaj="osoby"
  onclick="przekazArgument0('', 'spojniki', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Spójniki</span>
  <span id="liczbaSpojniki" style="margin-left: 8px; font-weight: bold;"></span>
</button>
                    <button id="czasownikButton" class="rodzaj-button" data-rodzaj="czasownik"
  onclick="przekazArgument0('', 'czasownik', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Czasowniki</span>
  <span id="liczbaCzasownik" style="margin-left: 8px; font-weight: bold;"></span>
</button>
                            <button id="czasButton" class="rodzaj-button" data-rodzaj="czasownik"
  onclick="przekazArgument0('', 'czas', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Czas</span>
  <span id="liczbaCzas" style="margin-left: 8px; font-weight: bold;"></span>
</button>
                                        <button id="zwierzetaButton" class="rodzaj-button" data-rodzaj="czasownik"
  onclick="przekazArgument0('', 'zwierzeta', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">
  <span>Zwierzęta</span>
  <span id="liczbaZwierzeta" style="margin-left: 8px; font-weight: bold;"></span>
</button>
            <button id="inne" onclick="przekazArgument0('emocje', '', '', '', '', '', tablica3[1])">Emocje</button>
    <button id="inne" onclick="przekazArgument0('', 'kolory', '', '', '', '', '', tablica3[1], 'other', false, '', '', '', '', '100')">Kolory</button>
    <br>ILOŚĆ MATERIAŁU NA LEKCJE<br>
<button class="czas" onclick="ustawTryb('zdania', undefined); przekazArgument0('', globalCategory, '', '', 'zdania', false, false, tablica3[1])">5 MINUT (JEDNO ZDANIE)</button>
<button id="english" class="czas" onclick="ustawTryb('fiszki', undefined); przekazArgument0('', globalCategory, '', '', 'fiszki', true, true, tablica3[1])">10 MINUT (3 ZDANIA) - OPCJONALNIE</button>
<br>TRYB LEKCJI<br>
<button id="english" class="czas" onclick="ustawTryb(tablica3[0], ''); przekazArgument0(globalCategory, '', '', tablica3[0], false, false, tablica3[1])">ZDANIA</button>
<button class="czas" onclick="ustawTryb(tablica3[0], 'frazy'); przekazArgument0(globalCategory, '', '', tablica3[0], true, true, tablica3[1])">FRAZY</button>
    <button id="inne" class="czas">POJEDYŃCZE SŁOWA</button>
    <br>DOSTĘPNE WERSJE TŁUMACZENIA<br>
    <button id="english" class="charakter-button" onclick="wybierzCharakter()">NA ŻADANIE-OPCJONALNIE</button>
    <button id="inne" class="charakter-button" onclick="wybierzCharakter('fiszki')">TYLKO PO ANGIELSKU</button>
    <button id="inne" class="charakter-button" onclick="przekazArgument0('', '', '', 'zdania', true)">TYLKO PO POLSKU</button>
</div>
<div id="konsola">
            <div id="title">CZASY</div>
<button class="charakter-button" onclick="przekazArgument0(globalCategory, '', '', '', '', '', tablica3[1], 'play')">OZNACZ CZAS</button>
<br>
    <button class="charakter-button" onclick="przekazArgument0('PresentSimple', '', '', '', '', '', tablica3[1], 'play')">PRESENT SIMPLE</button>
            <button class="charakter-button" onclick="przekazArgument0('PresentContinous', '', '', '', '', '', tablica3[1], 'other')">PRESENT CONTINOUS</button>
                    <button class="charakter-button" onclick="przekazArgument0('PastSimple', '', '', '', '', '', tablica3[1])">PAST SIMPLE</button>
    <button id="inne">PAST SIMPLE</button>
    <br>
    <div id="title">OPCJE ZDANIA</div>
    <button id="inne" class="charakter-button">PODZIEL ZDANIA NA CZĘŚCI</button>
    <button id="inne" class="czas">WYSUŃ JEDNOCZEŚNIE W DANEJ LEKCJI</button>
    <br>
    <div id="title">CHARAKTER ZDANIA</div>
    <button class="charakter-button" onclick="ustawTryb(tablica3[0]); przekazArgument0(globalCategory, '', '', 'fiszki', false, false, 'krotkie')">Krótkie</button>
    <button class="charakter-button" onclick="ustawTryb(tablica3[0]); przekazArgument0(globalCategory, '', '', 'fiszki', false, false, 'dlugie')">Długie(złożone)</button>
    <button class="charakter-button" onclick="ustawTryb(tablica3[0]); przekazArgument0(globalCategory, '', '', 'fiszki', false, false, '')">Dowolne</button>
    <div id="title">PRIORYTETY LINGWISTYCZNE</div>
    <button id="inne" onclick="wybierzCharakter('krotkie')">Wymowa</button>
<button id="inne" class="charakter-button" onclick="wybierzCharakter('krotkie')">Pisownia</button>
<button id="inne" onclick="wybierzCharakter('krotkie')">Sens zdania</button>
    <button id="inne" id="dowolne" onclick="wybierzCharakter('dowolne')">WSZYSTKIE</button>
</div>
<div id="konsola3">
    <h2>Ulubione Fiszki</h2>
    <button onclick="wplecUlubioneFiszki()">Ulubione Fiszki</button>
</div>
<div id="konsola4">
    <h2>Generuj intuicyjnie z pokrewną tematyką</h2>
    <button onclick="wybierzTematyke('nauka')">Podobne</button>
    <button onclick="wybierzTematyke('podroze')">Eksporuj moją nową pasje</button>
    <button onclick="wybierzTematyke('podroze')">Odkryj moją nową pasje</button>
</div>
</div>
`);
                $flashcardContainer.find('#osoby, #fiszki, #english').css('border', '2px solid blue');
                $flashcardContainer.find('#inne').css('background-color', 'gray');
                // Dodaj do konsoli informację o próbie dodania diva
                console.log("Próba dodania diva");

                // Znajdź kontener, do którego chcesz dodać .flashcard-container
                var $targetContainer = $('.grid-containera');

                // Dodaj div do znalezionego kontenera
                $targetContainer.append($flashcardContainer);
    // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('osoby', fiszki10);
        $('#liczbaOsoby').text(`Ilość: ${count}`);
    }
        // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('zaimkiosobowe', fiszki10);
        $('#liczbaZaimki').text(`Ilość: ${count}`);
    }
            // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('spojniki', fiszki10);
        $('#liczbaSpojniki').text(`Ilość: ${count}`);
    }
                // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('czasownik', fiszki10);
        $('#liczbaCzasownik').text(`Ilość: ${count}`);
    }
                    // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('czas', fiszki10);
        $('#liczbaCzas').text(`Ilość: ${count}`);
    }
                        // Po dodaniu konsoli, policz fiszki z kategorii "osoby"
    if (typeof fiszki10 !== 'undefined') {
        const count = findMatchingFiszkiCount('zwierzeta', fiszki10);
        $('#liczbaZwierzeta').text(`Ilość: ${count}`);
    }
                var $gridContainer = $('.grid-container');
                var $gridContainer2 = $('.search-container');
                                                            $gridContainer.css({
                                                'top': '-350px'
                                            });
                var flashcardContainerHeight = $flashcardContainer.height();
                $gridContainer.css('margin-top', flashcardContainerHeight + 110 + 'px');
$gridContainer2.css('margin-top', flashcardContainerHeight + 100 + 'px');

                function addBlueBorder(button) {
                    var category = $(button).attr('class').split(' ')[0]; // Pobierz klasę kategorii przycisku (rodzaj-button, charakter-button, czas)

                    // Usuń poprzednie zaznaczenia z danej kategorii
                    $('.' + category).css('border', '1px solid black');

                    // Następnie dodaj obramowanie do aktualnie klikniętego przycisku
                    $(button).css('border', '2px solid blue');
                }



                // Funkcja obsługująca kliknięcie w przyciski charakter-button
                function handleCharakterButtonClick() {
                    addBlueBorder(this);
                }

                // Funkcja obsługująca kliknięcie w przyciski czas
                function handleCzasButtonClick() {
                    addBlueBorder(this);
                }
                // Funkcja obsługująca kliknięcie w przyciski rodzaj-button
                function handleRodzajButtonClick() {
                    addBlueBorder(this);
                }
                // Dodaj zdarzenia do przycisków rodzaj-button
                $flashcardContainer.find('.rodzaj-button').on('click', handleRodzajButtonClick);
                // Dodaj zdarzenia do przycisków charakter-button
                $flashcardContainer.find('.charakter-button').on('click', handleCharakterButtonClick);

                // Dodaj zdarzenia do przycisków czas
                $flashcardContainer.find('.czas').on('click', handleCzasButtonClick);

                // Przekazanie argumentu 0

            }
            idpolski = false;
            let indexes = [];
            let pulpitstartowy = false;
            var czasv2;

            // Definicja zmiennej globalnej globalCategory
            var przyciskKlikniety = false;
            // Definicja zmiennej matchingIndexes
            let matchingIndexes = [];
            let tablica7 = [];
            let pierwszyFilmURL = '';
            function zapiszPierwszyFilmURL(url) {
                if (pierwszyFilmURL === '') {
                    pierwszyFilmURL = url;
                }
            }
            var globalCategory = '';
            // Funkcja przekazująca argument


            tablica3[0] = 'fiszki'; // Domyślny tryb
            tablica3[1] = null; // Domyślny tryb
            tablica3[2] = 'all'; // Domyślny tryb
            tablica3[4] = null;
                        let tablica43 = [];
                        let tablica43b = [];
                        let tablica43d = [];
                        let indexDiv0;
                        let indexDiv0b;
            function przekazArgument0(selectedCategory, category, index55, buttonindex, czas, idpolski, idtranslate, id, rodzaj, isSearching, matchingLessons5, matchingLessons5b, isSearching2, staraTablica40, indexDivRange, indexDiv0, indexDiv0b, indexDiv0d, number, flagaPrzycisku2, flagaPrzycisku) {
       
        $('.grid-container .image-container3').remove();
                $('.grid-container .image-container4').remove();
                        indexDiv0 = tablica43[tablica43.length - 1]; ////// DODAWANIE
                        indexDiv0b = tablica43b[tablica43b.length - 1]; ////// DODAWANIE
                        indexDiv0d = tablica43d[tablica43d.length - 1]; ////// DODAWANIE
                        console.log(":vvv ", flagaPrzycisku2, flagaPrzycisku);
                                console.log(":vv ", number);
                tablica3[1] = id;
                tablica3[2] = category;
                tablica3[4] = rodzaj;
                pulpitstartowy = true;
                przyciskKlikniety = true;
                // Przypisz wartość do zmiennej globalnej
                globalCategory = category;
                tablica10.length = 0;
                tablica15.length = 0;
                globalIdTranslate = idtranslate;
                // Wywołaj funkcję wybierzCharakter na podstawie trybu
                wybierzCharakter(selectedCategory, category, tablica3[0], index55, buttonindex, tablica3[1], tablica3[3], rodzaj, isSearching, matchingLessons5, matchingLessons5b, isSearching2, staraTablica40, indexDivRange, indexDiv0, indexDiv0b, indexDiv0d, number, flagaPrzycisku2, flagaPrzycisku);

            }

            function ustawTryb(tryb, frazy) {
                // Zaktualizuj pierwszą wartość w tablicy lub dodaj, jeśli jest pusta
                tablica3[0] = tryb;
                tablica3[3] = frazy;
            }
            console.log('hej33bb', tablica3);
            // Funkcja wybierająca charakter
            function wybierzCharakter(selectedCategory, category, czas, index55, buttonindex, idpolski, frazyid, rodzaj, isSearching, matchingLessons5, matchingLessons5b, isSearching2, staraTablica40, indexDivRange, indexDiv0, indexDiv0b, indexDiv0d, number, flagaPrzycisku2, flagaPrzycisku) {
                console.log('hej223', czas, category, frazyid);

                pulpitstartowy = false;
                // Aktualizuj matchingIndexes na podstawie nowej kategorii
                matchingIndexes = findXForMatchingFiszka(globalCategory, fiszki);
                matchingIndexes2 = findXForMatchingFiszka2(globalCategory, fiszki);
                matchingIndexes3 = findXForMatchingFiszka3(globalCategory, fiszki);

                wybierzRodzaj(selectedCategory, globalCategory, czas, matchingIndexes, index55, buttonindex, idpolski, frazyid, matchingIndexes2, rodzaj, matchingIndexes3, isSearching, matchingLessons5, matchingLessons5b, isSearching2, staraTablica40, indexDivRange, indexDiv0, indexDiv0b, indexDiv0d, number, flagaPrzycisku2, flagaPrzycisku);
                czasv2 = czas;
            }

function findXForMatchingFiszka(category, fiszki) {
    const matchingIndexes = [];

    for (let i = 0; i < fiszki.length; i++) {
        if (fiszki[i].category2.includes(category)) {
            matchingIndexes.push(i + 1);
        }
    }

    if (category === 'osoby') {
        const button = document.getElementById('osobyButton');
        if (button) {
            button.innerHTML = `Osoby(Rodzina, zaimki, zawody) <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }
    if (category === 'zaimki osobowe') {
        const button = document.getElementById('zaimkiButton');
        if (button) {
            button.innerHTML = `Zaimki osobowe <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }
    if (category === 'spojniki') {
        const button = document.getElementById('spojnikiButton');
        if (button) {
            button.innerHTML = `Spójniki <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }
    if (category === 'czasownik') {
        const button = document.getElementById('czasownikButton');
        if (button) {
            button.innerHTML = `Czasowniki <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }
    if (category === 'czas') {
        const button = document.getElementById('czasownikButton');
        if (button) {
            button.innerHTML = `Czas <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }
    if (category === 'zwierzeta') {
        const button = document.getElementById('zwierzetaButton');
        if (button) {
            button.innerHTML = `Zwierzęta <strong>Ilość: ${matchingIndexes.length}</strong>`;
        }
    }

    return matchingIndexes;
}
function findMatchingFiszkiCount(category, fiszki) {
    let count = 0;
    for (let i = 0; i < fiszki.length; i++) {
        if (fiszki[i].category2 && fiszki[i].category2.includes(category)) {
            count++;
        }
    }
    return count;
}
            // Funkcja znajdująca indeksy dla pasujących "fiszek"
            function findXForMatchingFiszka2(category, fiszki) {
                const matchingIndexes2 = [];
                // Iteruj przez tablicę fiszki
                console.log('hej234', category);
                for (let i = 0; i < fiszki.length; i++) {
                    // Upewnij się, że fiszki[i] oraz fiszki[i].category3 są zdefiniowane
                    if (fiszki[i] && fiszki[i].category3 && fiszki[i].category3.includes("PresentSimplePodmiot")) {
                        matchingIndexes2.push(i + 1);
                    }
                }
                // Zwracamy tablicę indeksów pasujących "fiszek"
                console.log('wykonuje się 6bb', matchingIndexes2);
                return matchingIndexes2;
            }
            function findXForMatchingFiszka3(category, fiszki) {
                const matchingIndexes3 = [];
                // Iteruj przez tablicę fiszki
                console.log('hej234', category);
                for (let i = 0; i < fiszki.length; i++) {
                    // Upewnij się, że fiszki[i] oraz fiszki[i].category3 są zdefiniowane
                    if (fiszki[i] && fiszki[i].category3 && fiszki[i].category3.includes("PresentSimpleCzasownik")) {
                        matchingIndexes3.push(i + 1);
                    }
                }
                // Zwracamy tablicę indeksów pasujących "fiszek"
                return matchingIndexes3;
            }
            function countCorrelationsForId0(fiszki) {
                const correlationsCount = [];

                fiszki.forEach(fiszka => {
                    const id0 = fiszka.id[1];
                    const id1 = fiszka.id[0];

                    let found = false;
                    for (let i = 0; i < correlationsCount.length; i++) {
                        if (correlationsCount[i][0] === id0) {
                            correlationsCount[i][1]++;
                            found = true;
                            break;
                        }
                    }

                    if (!found) {
                        correlationsCount.push([id0, 1]);
                    }
                });

                return correlationsCount;
            }

            const correlationsCount = countCorrelationsForId0(fiszki);

            function calculatePartLengths(fiszki) {
                const idToLengthsMap = new Map(); // Mapa dla długości części zdania dla każdego identyfikatora y

                fiszki.forEach(fiszka => {
                    const y = fiszka.id[1];

                    if (!fiszka.sentence2)
                        return; // Zabezpieczenie przed obiektami fiszki, które nie mają właściwości sentence2

                    // Jeśli identyfikator y nie jest jeszcze w mapie, dodaj go z początkowymi długościami i licznikiem
                    if (!idToLengthsMap.has(y)) {
                        const secondPartLength = fiszka.sentence2.length;

                        idToLengthsMap.set(y, {
                            totalLength: secondPartLength,
                            count: 1
                        });
                    } else {
                        // Jeśli identyfikator y już jest w mapie, zaktualizuj długości i licznik
                        const lengths = idToLengthsMap.get(y);
                        lengths.totalLength += fiszka.sentence2.length;
                        lengths.count += 1;
                        idToLengthsMap.set(y, lengths);
                    }
                });

                // Konwersja mapy na tablicę wynikową
                const result = [];
                idToLengthsMap.forEach((lengths, id) => {
                    result.push({id: id, ...lengths});
                });

                return result;
            }



            const partLengths = calculatePartLengths(fiszki);
            console.log('Part lengths:', partLengths);



            function calculatePartLengths1(fiszki) {
                const idToLengthsMap = new Map(); // Mapa dla długości części zdania dla każdego identyfikatora y

                fiszki.forEach(fiszka => {
                    const y = fiszka.id[1];

                    if (!fiszka.sentence1)
                        return; // Zabezpieczenie przed obiektami fiszki, które nie mają właściwości sentence1

                    // Jeśli identyfikator y nie jest jeszcze w mapie, dodaj go z początkowymi długościami i licznikiem
                    if (!idToLengthsMap.has(y)) {
                        const secondPartLength = fiszka.sentence1.length;

                        idToLengthsMap.set(y, {
                            count2: 1
                        });
                    } else {
                        // Jeśli identyfikator y już jest w mapie, zwiększ licznik
                        const lengths = idToLengthsMap.get(y);
                        lengths.count2 += 1;
                        idToLengthsMap.set(y, lengths);
                    }
                });

                // Konwersja mapy na tablicę wynikową
                const result = [];
                idToLengthsMap.forEach((lengths, id) => {
                    result.push({id: id, ...lengths});
                });

                return result;
            }

            const partLengths1 = calculatePartLengths1(fiszki);
            console.log('Part lengths1:', partLengths1);
            function calculatePartLengths2(fiszki) {
                const idToLengthsMap = new Map(); // Mapa dla długości części zdania dla każdego identyfikatora y

                fiszki.forEach(fiszka => {
                    const y = fiszka.id[1];

                    if (!fiszka.sentence2)
                        return; // Zabezpieczenie przed obiektami fiszki, które nie mają właściwości sentence1

                    // Jeśli identyfikator y nie jest jeszcze w mapie, dodaj go z początkowymi długościami i licznikiem
                    if (!idToLengthsMap.has(y)) {
                        const secondPartLength = fiszka.sentence2.length;

                        idToLengthsMap.set(y, {
                            count2: 1
                        });
                    } else {
                        // Jeśli identyfikator y już jest w mapie, zwiększ licznik
                        const lengths = idToLengthsMap.get(y);
                        lengths.count2 += 1;
                        idToLengthsMap.set(y, lengths);
                    }
                });

                // Konwersja mapy na tablicę wynikową
                const result = [];
                idToLengthsMap.forEach((lengths, id) => {
                    result.push({id: id, ...lengths});
                });

                return result;
            }

            const partLengths2 = calculatePartLengths2(fiszki);
            console.log('Part lengths2:', partLengths2);


            function calculatePartLengths3(fiszki) {
                const idToLengthsMap = new Map(); // Mapa dla długości części zdania dla każdego identyfikatora y

                // Pierwsza iteracja: zliczanie długości zdań dla każdego identyfikatora y
                fiszki.forEach(fiszka => {
                    const y = fiszka.id[1];
                    const totalLength = (fiszka.sentence1 ? fiszka.sentence1.length : 0) + (fiszka.sentence2 ? fiszka.sentence2.length : 0);

                    if (!idToLengthsMap.has(y)) {
                        idToLengthsMap.set(y, {
                            totalLength: totalLength,
                            count: 1
                        });
                    } else {
                        const lengths = idToLengthsMap.get(y);
                        lengths.totalLength += totalLength;
                        lengths.count += 1;
                        idToLengthsMap.set(y, lengths);
                    }
                });

                // Druga iteracja: tworzenie wynikowej tablicy ze skumulowanymi wartościami
                const result = [];
                let cumulativeCount = 0; // Zmienna do śledzenia sumy count

                idToLengthsMap.forEach((lengths, id) => {
                    result.push({id: id, cumulativeCount: cumulativeCount}); // Pierwsza wartość wynosi 0
                    cumulativeCount += lengths.count; // Odejmowanie aktualnej wartości count od sumy
                });

                return result;
            }


            const partLengths3 = calculatePartLengths3(fiszki);
            console.log('Cumulative counts:', partLengths3);



            const lessonsArray = [];
            const lessonsArrayA = [];
            const lessonsArrayB = [];
            const lessonsArrayZ = [];
            console.log('hej45', lessonsArray);
            // Wyświetlenie wyniku
            // Funkcja odtwarzająca losowy kontener image-container3
            // Funkcja odtwarzająca losowy kontener image-container3
            let imageContainer3Array = [];
            console.log('hej44', imageContainer3Array);
            let currentVideoIndex = 0; // Indeks bieżącego filmu do odtworzenia

            // Funkcja obsługująca zdarzenie zakończenia odtwarzania filmu
            function videoEndedHandler() {
                currentVideoIndex = (currentVideoIndex + 1) % imageContainer3Array.length; // Przejście do następnego filmu
                playRandomImageContainer3(); // Odtwórz kolejny losowy film
            }
            console.log("Matching indexes:", matchingIndexes);
            let polski = false;
            let losowaniaCounter = 0; // Zmienna licznika losowań
            let losowaniaCounter2 = 0; // Zmienna licznika losowań
            let tablica33 = [];
            let tablica33b = [];
            function wybierzRodzaj(selectedCategory, category, czas, matchingIndexes, index55, buttonindex, idpolski, frazyid, matchingIndexes2, rodzaj, matchingIndexes3, isSearching, matchingLessons5, matchingLessons5b, isSearching2, staraTablica40, indexDivRange, indexDiv0, indexDiv0b, indexDiv0d, number, flagaPrzycisku2, flagaPrzycisku) {
                category = category || globalCategory;
                czasv2 = czas;
                number;
                console.log('hej108n', number);
                console.log("Wybrany rodzaj słownictwa:vv ", selectedCategory);
                console.log('hej5b', index55);
                console.log('hej755', matchingIndexes);

                const matchingLessons = new Set();
                const matchingLessons1b = new Set(matchingLessons5);
                const matchingLessons2 = new Set();
// Iteracja przez fiszki
console.log('hej755', matchingLessons1b);
                for (const fiszka of fiszki) {
                    let matchingFiszka = false;
                    // Sprawdzenie warunków dla category
                    if (category === 'all' || !category) {
                        matchingFiszka = true;
                    } else if (category !== 'PresentSimple' && category !== 'PresentContinous' && category !== 'PastSimple') {
                        matchingFiszka = fiszka.category2.includes(category);
                    } else {
                        matchingFiszka = fiszka.category3 && fiszka.category3.includes(category);
                    }

                    // Dodanie fiszki do matchingLessons na podstawie warunków
                    if (matchingFiszka) {
                        if (frazyid === 'frazy') {
                            matchingLessons2.add(fiszka.id[2]);
                        } else {
                            // Dodawanie id do matchingLessons, jeśli czas nie jest 'frazy'
                            matchingLessons.add(fiszka.id[1]);
                        }
                    }
                }
                console.log('matchingLessons2:', matchingLessons2);
                const uniqueMatchingLessons = Array.from(matchingLessons);
                const uniqueMatchingLessons2 = Array.from(matchingLessons2);
                const uniqueMatchingLessons2b = Array.from(matchingLessons1b);
                    // Pobranie lekcji dla pasujących słów
                console.log('Unikalne dopasowane lekcjenn:', uniqueMatchingLessons2b);

                let myVariable;

                if (!isSearching) {
                    myVariable = uniqueMatchingLessons;
                } else if (isSearching) {
                    myVariable = uniqueMatchingLessons2b;
                    console.log('myVariable8:', uniqueMatchingLessons2b);
                }
                if (isSearching2) {
    console.log("Kliknięto singleWordBtn", staraTablica40);

    console.log("Wyświetlam zawartość tablica40 (tylko raz):", tablica40);

    function showFiszkiForLesson5dd(tablica40, tablica41, fiszki) {
        console.log("Wybrany rodzaj: ", tablica40);

        setTimeout(() => {
            let matchingFiszki122 = [];

            tablica40.forEach(t40 => {
                fiszki.forEach(fiszka => {
                    if (fiszka.id[0] === t40) {
                        matchingFiszki122.push(fiszka); // Zapisujemy cały obiekt, nie tylko fiszka.id
                    }
                });
            });

            console.log("Wyświetlam:", matchingFiszki122);

            // Przykładowe użycie funkcji generateFiszkaBlock3
            matchingFiszki122.forEach(fiszka => {
                generateFiszkaBlock3(fiszka, "lessonId2"); // Przekazujemy cały obiekt fiszka
            });

        }, 1000);
    }

    setTimeout(() => {
        showFiszkiForLesson5dd(tablica40, tablica41, fiszki);
    }, 100);
    function showFiszkiForLesson5ddb(staraTablica40, tablica41, fiszki) {
    console.log("Wybrany rodzaj4vv: ", staraTablica40);

    setTimeout(() => {
        let idFiszki = [];

        // Pobieranie id pasujących do tablica40
        staraTablica40.forEach(t40 => {
            fiszki.forEach(fiszka => {
                if (fiszka.id[0] === t40) {
                    idFiszki.push(fiszka.id); // Zapisujemy cały obiekt
                }
            });
        });

        console.log("Wyświetlam4vv:", idFiszki);

        // Podział na mniejsze grupy po 3 elementy
        let chunkedIdFiszki = [];
        for (let i = 0; i < idFiszki.length; i += 3) {
            chunkedIdFiszki.push(idFiszki.slice(i, i + 3));
        }

        console.log("Podzielone grupy ID:", chunkedIdFiszki);

        // Usuwanie każdej grupy osobno
        chunkedIdFiszki.forEach(group => {
            removeFiszka(group);
        });

    }, 600);
}

function removeFiszka(idFiszkiGroup) {
    idFiszkiGroup.forEach(singleId => {
        // Jeśli singleId jest tablicą, łączymy jej elementy separatorem ','
        let idString = Array.isArray(singleId) ? singleId.join(',') : singleId;
        const className = `fiszka5 fiszka-${idString}`;
        
        // Escape'owanie przecinków w selektorze CSS
        const selector = `.${className.replace(/,/g, '\\,').replace(/\s+/g, '.')}`; 

        console.log("Wyświetlam4b:", selector);
    
        const $fiszkaToRemove = $('.grid-container').find(selector);
        if ($fiszkaToRemove.length) {
            console.log('Element znaleziony po opóźnieniu, usuwam...');
            $fiszkaToRemove.remove();
        } else {
            console.log('Element nadal nie znaleziony.');
        }
    });
}

        setTimeout(() => {
        showFiszkiForLesson5ddb(staraTablica40, tablica41, fiszki);
    }, 0);
}
if (!isSearching2) {
    console.log('hej350');
    $('.grid-container .image-container3').remove();
        function showFiszkiForLesson5ddb(tablica40, tablica41, fiszki) {
    console.log("Wybrany rodzaj4vv: ", staraTablica40);

    setTimeout(() => {
        let idFiszki = [];

        // Pobieranie id pasujących do tablica40
        tablica40.forEach(t40 => {
            fiszki.forEach(fiszka => {
                if (fiszka.id[0] === t40) {
                    idFiszki.push(fiszka.id); // Zapisujemy cały obiekt
                }
            });
        });

        console.log("Wyświetlam4vv:", idFiszki);

        // Podział na mniejsze grupy po 3 elementy
        let chunkedIdFiszki = [];
        for (let i = 0; i < idFiszki.length; i += 3) {
            chunkedIdFiszki.push(idFiszki.slice(i, i + 3));
        }

        console.log("Podzielone grupy ID:", chunkedIdFiszki);

        // Usuwanie każdej grupy osobno
        chunkedIdFiszki.forEach(group => {
            removeFiszka(group);
        });

    }, 600);
}

function removeFiszka(idFiszkiGroup) {
    idFiszkiGroup.forEach(singleId => {
        // Jeśli singleId jest tablicą, łączymy jej elementy separatorem ','
        let idString = Array.isArray(singleId) ? singleId.join(',') : singleId;
        const className = `fiszka5 fiszka-${idString}`;
        
        // Escape'owanie przecinków w selektorze CSS
        const selector = `.${className.replace(/,/g, '\\,').replace(/\s+/g, '.')}`; 

        console.log("Wyświetlam4b:", selector);
    
        const $fiszkaToRemove = $('.grid-container').find(selector);
        if ($fiszkaToRemove.length) {
            console.log('Element znaleziony po opóźnieniu, usuwam...');
            $fiszkaToRemove.remove();
        } else {
            console.log('Element nadal nie znaleziony.');
        }
    });
}

        setTimeout(() => {
        showFiszkiForLesson5ddb(tablica40, tablica41, fiszki);
    }, 0);
}
                let powiadomienieCounter = 0; // Licznik wyświetleń powiadomień
                                if (czas === 'fiszki' && czas !== "zdania" && isSearching) {
                    console.log('Warunek czas === "fiszki" jest spełniony');
                    $('.grid-container .image-container3b').remove();
                    $('.grid-container .image-container4').remove();
                    $('.grid-container .image-container5').remove();

if (myVariable.length > 0) {
    let zeroWylosowane = false;
    let indexDiv = 0;
    let cumulativeFirstPartLength1 = 0;
    let cumulativeFirstPartLength2 = 0;
    let cumulativeFirstPartLength3 = 0;

    let startIndex = 0;
    const lengthDividedByThree = Math.floor(myVariable.length / 3);

    let indices = Array.from({ length: lengthDividedByThree }, (_, i) => i + 1);
    let indices2 = [...indices];

    console.log('hej12', indices2);

    let zeroIndex = Math.floor(Math.random() * lengthDividedByThree);
    let zeroIndex2 = zeroIndex;  // Assuming you want zeroIndex2 to mirror zeroIndex

    if (isSearching) {
        zeroIndex = undefined;
    } else {
        indices[zeroIndex] = 0; 
    }

    indices2[zeroIndex2] = 0;

                        tablica33.push(losowaniaCounter); // Dodaj zaktualizowany licznik do tablicy
                        console.log('hej1113', tablica33); // Wyświetl zawartość tablicy
                        for (let i = 0; i < myVariable.length; i += 3) {
                            indexDiv++;
                            const lessonId1 = myVariable[i];
                            const lessonId2 = myVariable[i + 1];
                            const lessonId3 = myVariable[i + 2];
                            const newIndex = indices[Math.floor(i / 3)];
                            const index50 = indices2[Math.floor(i / 3)];

                            const lesson1Sentences = correlationsCount.find(item => item[0] === lessonId1) || [lessonId1, 0];
                            const lesson2Sentences = correlationsCount.find(item => item[0] === lessonId2) || [lessonId2, 0];
                            const lesson3Sentences = correlationsCount.find(item => item[0] === lessonId3) || [lessonId3, 0];

                            const lesson1SecondPartLength = partLengths2.find(item => item.id === lessonId1)?.count2 || 0;
                            const lesson2SecondPartLength = partLengths2.find(item => item.id === lessonId2)?.count2 || 0;
                            const lesson3SecondPartLength = partLengths2.find(item => item.id === lessonId3)?.count2 || 0;

                            const lesson1FirstPartLength = partLengths1.find(item => item.id === lessonId1)?.count2 || 0;
                            const lesson2FirstPartLength = partLengths1.find(item => item.id === lessonId2)?.count2 || 0;
                            const lesson3FirstPartLength = partLengths1.find(item => item.id === lessonId3)?.count2 || 0;

                            const lesson1PartLength = partLengths3.find(item => item.id === lessonId1)?.cumulativeCount || 0;
                            const lesson2PartLength = partLengths3.find(item => item.id === lessonId2)?.cumulativeCount || 0;
                            const lesson3PartLength = partLengths3.find(item => item.id === lessonId3)?.cumulativeCount || 0;

                            cumulativeFirstPartLength1 += lesson1PartLength;
                            cumulativeFirstPartLength2 += lesson2PartLength;
                            cumulativeFirstPartLength3 += lesson3PartLength;

                            const lessonObjectZ = {
                                lessonId1: lessonId1,
                                lessonId2: lessonId2,
                                lessonId3: lessonId3,
                                index50: index50,
                                newIndex: newIndex,
                                lesson1Sentences: lesson1Sentences,
                                lesson2Sentences: lesson2Sentences,
                                lesson3Sentences: lesson3Sentences,
                                lesson1PartLength: lesson1PartLength,
                                lesson2PartLength: lesson2PartLength,
                                lesson3PartLength: lesson3PartLength,
                                lesson1FirstPartLength: lesson1FirstPartLength,
                                lesson2FirstPartLength: lesson2FirstPartLength,
                                lesson3FirstPartLength: lesson3FirstPartLength,
                                lesson1SecondPartLength: lesson1SecondPartLength,
                                lesson2SecondPartLength: lesson2SecondPartLength,
                                lesson3SecondPartLength: lesson3SecondPartLength,
                                indexDiv: indexDiv
                            };
                            lessonsArrayZ.push(lessonObjectZ);
                            console.log('hej3334vv', lessonObjectZ);
                            // Zwiększenie licznika losowań
                            console.log('Liczba losowań:', losowaniaCounter); // Dodano log licznika losowań
                            if (tablica10.length <= indexDivRange || tablica10.length === 0) {
                                console.log('wykonuje się 8');
                                console.log('hej32', newIndex);
                                console.log('hej18vv', matchingLessons5b);
                                showCombinedSentenceForLesson5b(category, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2, buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes, startIndex, newIndex, indexDiv, lessonsArray, lesson1PartLength, lesson2PartLength, lesson3PartLength, lesson1Sentences, lesson2Sentences, lesson3Sentences, lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength, lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength, cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3, lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching);
            console.log('hej18vvv', selectedCategory);                
            }
                        }
                        const numberOfContainers = $('.image-container3').length;
                        console.log('Liczba dodanych divów:', numberOfContainers);
                    }
                }
                if (czas === 'zdania' && czas !== 'fiszki' && isSearching) {
                    $('.grid-container .image-container3b').remove();
                    $('.grid-container .image-container3').remove();
                    $('.grid-container .image-container5').remove();
                    // Wyświetl pojedyncze zdania dla znalezionych lekcji
                    console.log('Warunek czas === "fiszki" jest spełniony2');

                    if (myVariable.length > 0) {
                        // Inicjuj flagę dla wystąpienia zera
                        let zeroWylosowane = false;
                        // Losowy indeks, w którym pojawi się zero
                        let indexDiv = 0;
                        // Zmienna do kumulowania długości zdań
                        let previousCumulativeFirstPartLength3 = 0;  // Przechowywanie poprzedniej kumulacji dla lesson3
                        let cumulativeFirstPartLength1 = 0;
                        let cumulativeFirstPartLength2 = 0;
                        let cumulativeFirstPartLength3 = 0;

                        // Wyświetl fiszki dla każdej znalezionej pary lekcji
                        let startIndex = 0; // Zainicjuj startIndex poza pętlą
                        const lengthDividedByThree = myVariable.length;
                        let indices2 = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices2.push(i);
                        }
                        let indices = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices.push(i);
                        }
// Losowanie indeksu, który będzie miał wartość 0
                        const zeroIndex = Math.floor(Math.random() * (indexes.length)); // +1 aby uwzględnić dodanie zera na końcu
                        indexes[zeroIndex] = 0;

// Sprawdź czy tablica indexes zawiera zero

                        let shouldInsertNumbers = indexes.includes(0);

                        if (shouldInsertNumbers) {
                            let firstValue = indexes.length > 0 ? indexes[0] : 0;

                            // Utworzenie tablicy do wstawienia przed indexes, jeśli obie wartości nie są zerami
                            if (firstValue !== 0) {
                                let numbersToInsert = [];
                                for (let i = 1; i < firstValue; i++) {
                                    numbersToInsert.push(i);
                                }

                                // Wstawienie numbersToInsert przed indexes
                                indexes = [...numbersToInsert, ...indexes];
                            }
                        }

// Wyświetlenie zaktualizowanej tablicy indexes
                        console.log('Aktualizowane indeksy:', indexes);

                        const zeroIndex2 = index55 - 1;
                        // Wstawienie 0 na wylosowane miejsce
                        indices2[zeroIndex2] = 0;
                        console.log('hej166');
                        let indices3 = [];
                        // Inicjalizacja tablicy indices2 jako pustej tablicy
                        if (idpolski) {
                            for (let i = 1; i <= lengthDividedByThree; i++) {
                                // Dodawanie wartości true do tablicy indices2 dla każdej iteracji
                                indices3.push(true);
                            }
                            console.log('indices3:', indices3);
                        }
                        tablica33b.push(losowaniaCounter2); // Dodaj zaktualizowany licznik do tablicy
                        console.log('hej1113', tablica33b); // Wyświetl zawartość tablicy
                        for (let i = 0; i < myVariable.length; i += 1) {
                            indexDiv++;
                            const lessonId1 = myVariable[i];
                            const newIndex = indexes[Math.floor(i)];
                            const index50 = indices2[Math.floor(i)];
                            const polski = idpolski ? indices3[i % indices3.length] : false;
                            console.log(`Iteration ${i}: polski =`, polski);

                            console.log('hej16d', myVariable[i]);
                            // Dodanie wartości true dla każdego lessonId w polski


                            // Znajdź długości drugiej części zdania dla każdej lekcji
                            const lesson1PartLength = partLengths3.find(item => item.id === lessonId1)?.cumulativeCount || 0;

                            // Obliczanie skumulowanych długości
                            cumulativeFirstPartLength1 += lesson1PartLength;

                            const cumulativeTotalFirstPartLength1 = cumulativeFirstPartLength1;

                            // Aktualizacja poprzedniej wartości skumulowanej dla następnej iteracji
                            previousCumulativeFirstPartLength3 = cumulativeFirstPartLength3;

                            const lessonObjectA = {
                                lessonId1: lessonId1,
                                index50: index50,
                                newIndex: newIndex,
                                lesson1PartLength: lesson1PartLength,
                                indexDiv: indexDiv,
                                polski: polski
                            };

                            // Dodawanie obiektu do tablicy lekcji
                            lessonsArrayA.push(lessonObjectA);
                            // Zwiększenie licznika losowań
                            console.log('Liczba losowań:', losowaniaCounter); // Dodano log licznika losowań


                            if ((tablica15.length <= 51 || tablica15.length === 0)) {
                                console.log('wykonuje się 8');

                                showCombinedSentenceForLesson2(isSearching, selectedCategory, polski, index50, matchingIndexes, lessonId1, newIndex, indexDiv, lesson1PartLength, matchingLessons5b);
                                console.log('hej321', polski);
                            }
                        }
                    }
                }
                if (idpolski === 'dlugie') {
                    console.log('Dane correlationsCount:', correlationsCount);

                    const validLessons = myVariable.filter(lessonId => {
                        const lessonEntry = correlationsCount.find(item => item[0] === lessonId) || [lessonId, 0];
                        console.log('Sprawdzanie lessonId:', lessonId, 'lessonEntry:', lessonEntry);
                        const lessonSentences = lessonEntry[1];
                        return lessonSentences > 6;
                    });

                    myVariable = validLessons;
                }
                if (idpolski === 'krotkie') {
                    console.log('Dane correlationsCount:', correlationsCount);

                    const validLessons = myVariable.filter(lessonId => {
                        const lessonEntry = correlationsCount.find(item => item[0] === lessonId) || [lessonId, 0];
                        console.log('Sprawdzanie lessonId:', lessonId, 'lessonEntry:', lessonEntry);
                        const lessonSentences = lessonEntry[1];
                        return lessonSentences < 6;
                    });

                    myVariable = validLessons;
                }
                                if (idpolski === 'losowyuklad') {
    console.log('Warunek czas === "fiszki" jest spełniony');
                    $('.grid-container .image-container4').remove();
                    $('.grid-container .image-container5').remove();

    console.log('Zawartość myVariable:', myVariable);
    if (myVariable.length > 1) {
        let indexDiv = 0;
        let lessonsGroups = []; // Tablica do przechowywania grup lessonId
                        let startIndex = 0;
        for (let i = 0; i < myVariable.length; i += 3) {
            indexDiv++;
            const lessonId1 = myVariable[i];
            const lessonId2 = myVariable[i + 1];
            const lessonId3 = myVariable[i + 2];

            const lessonObject2 = {
                lessonId1: lessonId1,
                lessonId2: lessonId2,
                lessonId3: lessonId3,
                indexDiv: indexDiv
            };

            lessonsGroups.push(lessonObject2);
        }

        console.log('Utworzone grupy:', lessonsGroups);

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        shuffleArray(lessonsGroups);
        console.log('Grupy po tasowaniu:', lessonsGroups);

        lessonsGroups.forEach((group, index) => {
            console.log(`Grupa ${index}:`, group);

            const lesson1Sentences = correlationsCount.find(item => item[0] === group.lessonId1) || [group.lessonId1, 0];
            const lesson2Sentences = correlationsCount.find(item => item[0] === group.lessonId2) || [group.lessonId2, 0];
            const lesson3Sentences = correlationsCount.find(item => item[0] === group.lessonId3) || [group.lessonId3, 0];

            const lesson1SecondPartLength = partLengths2.find(item => item.id === group.lessonId1)?.count2 || 0;
            const lesson2SecondPartLength = partLengths2.find(item => item.id === group.lessonId2)?.count2 || 0;
            const lesson3SecondPartLength = partLengths2.find(item => item.id === group.lessonId3)?.count2 || 0;

            const lesson1FirstPartLength = partLengths1.find(item => item.id === group.lessonId1)?.count2 || 0;
            const lesson2FirstPartLength = partLengths1.find(item => item.id === group.lessonId2)?.count2 || 0;
            const lesson3FirstPartLength = partLengths1.find(item => item.id === group.lessonId3)?.count2 || 0;

            const lesson1PartLength = partLengths3.find(item => item.id === group.lessonId1)?.cumulativeCount || 0;
            const lesson2PartLength = partLengths3.find(item => item.id === group.lessonId2)?.cumulativeCount || 0;
            const lesson3PartLength = partLengths3.find(item => item.id === group.lessonId3)?.cumulativeCount || 0;

            console.log('Dane dla grupy:', {
                lesson1PartLength,
                lesson2PartLength,
                lesson3PartLength,
                lesson1Sentences,
                lesson2Sentences,
                lesson3Sentences
            });

    try {
        showCombinedSentenceForLesson(
            matchingIndexes3, rodzaj, matchingIndexes2, buttonindex, group.indexDiv,
            group.lessonId1, group.lessonId2, group.lessonId3, fiszki, matchingIndexes,
            startIndex, index, lessonsGroups, lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences, lesson1FirstPartLength,
            lesson2FirstPartLength, lesson3FirstPartLength, lesson1SecondPartLength,
            lesson2SecondPartLength, lesson3SecondPartLength
        );
    } catch (error) {
        console.error("Błąd w showCombinedSentenceForLesson dla grupy:", group, "Błąd:", error);
    }
        });

        console.log('Zawartość lessonsGroups:', lessonsGroups);
        const numberOfContainers = $('.image-container3').length;
        console.log('Liczba dodanych divów:', numberOfContainers);
    }
}

                
                if (frazyid === 'frazy') {
                    console.log('Warunek czas === "fiszki" jest spełniony');
                    $('.grid-container .image-container4').remove();
                    $('.grid-container .image-container3').remove();

                    if (uniqueMatchingLessons2.length > 1) {
                        let zeroWylosowane = false;
                        let indexDiv = 0;

                        let previousCumulativeFirstPartLength3 = 0;
                        let cumulativeFirstPartLength1 = 0;
                        let cumulativeFirstPartLength2 = 0;
                        let cumulativeFirstPartLength3 = 0;

                        let startIndex = 0;
                        const lengthDividedByThree = uniqueMatchingLessons2.length;

                        let indices = Array.from({length: lengthDividedByThree}, (_, i) => i + 1);
                        let indices2 = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices2.push(i);
                        }

                        console.log('hej12b', indices);

                        const zeroIndex = Math.floor(Math.random() * lengthDividedByThree);
                        const zeroIndex2 = index55 - 1;
                        indices[zeroIndex] = 0;
                        indices2[zeroIndex2] = 0;
                        let useFirstPartLength = true;
                        for (let i = 0; i < uniqueMatchingLessons2.length; i += 1) {
                            indexDiv++;
                            const lessonId1 = uniqueMatchingLessons2[i];
                            const newIndex = indices[Math.floor(i)];
                            const index50 = indices2[Math.floor(i)];
                            console.log('hej16f', uniqueMatchingLessons2[i]);
                            console.log('hej127');
                            const lesson1SecondPartLength = partLengths2.find(item => item.id === lessonId1)?.count2 || 0;

                            const lesson1FirstPartLength = partLengths1.find(item => item.id === lessonId1)?.count2 || 0;
                            // Wybór odpowiedniej wartości w zależności od zmiennej useFirstPartLength
                            const lessonLength = useFirstPartLength ? lesson1FirstPartLength : lesson1SecondPartLength;

                            const lessonObjectB = {
                                lessonId1: lessonId1,
                                index50: index50,
                                newIndex: newIndex,
                                indexDiv: indexDiv,
                                lessonLength: lessonLength
                            };
                            useFirstPartLength = !useFirstPartLength;
                            lessonsArrayB.push(lessonObjectB);
                            console.log('hej34b', lessonObjectB);

                            console.log('hej556b', lessonsArrayB);
                            console.log('hej77', tablica20);

                            if (tablica20.length <= 70 || tablica20.length === 0) {
                                console.log('wykonuje się 8');
                                console.log('hej32', newIndex);
                                console.log('hej18b', tablica20);
                                showCombinedSentenceForLesson5(index50, lessonId1, newIndex, indexDiv, buttonindex, lessonLength);
                            }
                        }
                        console.log('Aktualna zawartość tablicy lessonsArrayb:', lessonsArrayB);
                        const numberOfContainers = $('.image-container3').length;
                        console.log('Liczba dodanych divów:', numberOfContainers);
                    }
                }

                

            
                if (czas === 'fiszki' && czas !== "zdania" && !isSearching) {
                    console.log('Warunek czas === "fiszki" jest spełniony');
                    $('.grid-container .image-container4').remove();
                    $('.grid-container .image-container5').remove();

                    if (myVariable.length > 1) {
                        let zeroWylosowane = false;
                        let indexDiv = 0;

                        let previousCumulativeFirstPartLength3 = 0;
                        let cumulativeFirstPartLength1 = 0;
                        let cumulativeFirstPartLength2 = 0;
                        let cumulativeFirstPartLength3 = 0;

                        let startIndex = 0;
                        const lengthDividedByThree = myVariable.length / 3;

                        let indices = Array.from({length: lengthDividedByThree}, (_, i) => i + 1);
                        let indices2 = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices2.push(i);
                        }


                        const zeroIndex = Math.floor(Math.random() * lengthDividedByThree);
                        const zeroIndex2 = index55 - 1;
                        indices[zeroIndex] = 0;
                        indices2[zeroIndex2] = 0;
                        losowaniaCounter++; // Inkrementuj licznik przy każdym wywołaniu
                        tablica33.push(losowaniaCounter); // Dodaj zaktualizowany licznik do tablicy
                        const ostatniaWartosc = tablica33[tablica33.length - 1];
                                                                                    
for (let i = 0; i < myVariable.length; i += 3) {
    indexDiv++;

    const lessonId1 = myVariable[i];
    const lessonId2 = myVariable[i + 1];
    const lessonId3 = myVariable[i + 2];

    const newIndex = indices[Math.floor(i / 3)];
    const index50 = indices2[Math.floor(i / 3)];

    const lesson1Sentences = correlationsCount.find(item => item[0] === lessonId1) || [lessonId1, 0];
    const lesson2Sentences = correlationsCount.find(item => item[0] === lessonId2) || [lessonId2, 0];
    const lesson3Sentences = correlationsCount.find(item => item[0] === lessonId3) || [lessonId3, 0];

    const lesson1SecondPartLength = partLengths2.find(item => item.id === lessonId1)?.count2 || 0;
    const lesson2SecondPartLength = partLengths2.find(item => item.id === lessonId2)?.count2 || 0;
    const lesson3SecondPartLength = partLengths2.find(item => item.id === lessonId3)?.count2 || 0;

    const lesson1FirstPartLength = partLengths1.find(item => item.id === lessonId1)?.count2 || 0;
    const lesson2FirstPartLength = partLengths1.find(item => item.id === lessonId2)?.count2 || 0;
    const lesson3FirstPartLength = partLengths1.find(item => item.id === lessonId3)?.count2 || 0;

    const lesson1PartLength = partLengths3.find(item => item.id === lessonId1)?.cumulativeCount || 0;
    const lesson2PartLength = partLengths3.find(item => item.id === lessonId2)?.cumulativeCount || 0;
    const lesson3PartLength = partLengths3.find(item => item.id === lessonId3)?.cumulativeCount || 0;

    cumulativeFirstPartLength1 += lesson1PartLength;
    cumulativeFirstPartLength2 += lesson2PartLength;
    cumulativeFirstPartLength3 += lesson3PartLength;

                            const lessonObject = {
                                lessonId1: lessonId1,
                                lessonId2: lessonId2,
                                lessonId3: lessonId3,
                                index50: index50,
                                newIndex: newIndex,
                                lesson1Sentences: lesson1Sentences,
                                lesson2Sentences: lesson2Sentences,
                                lesson3Sentences: lesson3Sentences,
                                lesson1PartLength: lesson1PartLength,
                                lesson2PartLength: lesson2PartLength,
                                lesson3PartLength: lesson3PartLength,
                                lesson1FirstPartLength: lesson1FirstPartLength,
                                lesson2FirstPartLength: lesson2FirstPartLength,
                                lesson3FirstPartLength: lesson3FirstPartLength,
                                lesson1SecondPartLength: lesson1SecondPartLength,
                                lesson2SecondPartLength: lesson2SecondPartLength,
                                lesson3SecondPartLength: lesson3SecondPartLength,
                                indexDiv: indexDiv
                            };

    lessonsArray.push(lessonObject);
                            // Zwiększenie licznika losowań
                            console.log('Liczba losowańvv:', losowaniaCounter); // Dodano log licznika losowań

                            // Sprawdzenie, czy osiągnięto limit losowań
                            if (losowaniaCounter >= 10) {
                                console.log('Osiągnięto 7 losowań, wyświetlam powiadomienie');
                                powiadomienieCounter++; // Zwiększenie licznika powiadomień

                                if (confirm('Osiągnięto 7 losowań. Czy chcesz kontynuować losowania?')) {
                                    console.log('Użytkownik potwierdził dalsze losowania');
                                    losowaniaCounter = 0; // Zresetowanie licznika losowań
                                } else {
                                    console.log('Użytkownik przerwał dalsze losowania');
                                    break; // Przerwanie pętli, jeśli użytkownik nie chce kontynuować
                                }
                            }
                            if (category !== 'all') {
                                $('.grid-container .image-container3b').remove();
                               showCombinedSentenceForLesson5b2(category, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2, buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes, startIndex, newIndex, indexDiv, lessonsArray, lesson1PartLength, lesson2PartLength, lesson3PartLength, lesson1Sentences, lesson2Sentences, lesson3Sentences, lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength, lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength, cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3, lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching);
                            }
                            console.log('hej108', flagaPrzycisku);
                          
                            // 🔹 Najpierw sprawdzamy specjalny przypadek dla flagaPrzycisku + index50
if (flagaPrzycisku2 && !flagaPrzycisku && (tablica10.length <= indexDivRange || tablica10.length === 0) && category === 'all' && ostatniaWartosc < 2 && ostatniaWartosc > 0 && !number) {
    const newIndex5 = null;
    const newIndex10 = null;
    const newIndex10d = null;
    const newIndex10b3 = null;
    const newIndex10b4 = null;
    let number1 = false;
    let number2 = false;
    const newIndex10dd = null;
   console.log('hej230', number);
    // używamy index55 jako index50


    if (newIndex !== 0) {
        // --- LEKCJA INTERAKTYWNA ---
        showCombinedSentenceForLesson22b(
            number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
            buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
            startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, newIndex10dd,
            indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, newIndex10d, lessonsArray,
            lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences,
            lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
            lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
            cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
            lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
        );
    }
    if (newIndex === 0) {

        console.log('hej105', newIndex);
        showCombinedSentenceForLesson22b(
            number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
            buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
            startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, newIndex10dd,
            indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
            lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences,
            lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
            lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
            cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
            lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
        );
continue;
    }

   } else if (flagaPrzycisku2 && !flagaPrzycisku && (tablica10.length <= indexDivRange || tablica10.length === 0) && category === 'all' && ostatniaWartosc < 3 && ostatniaWartosc > 1 && !number) {
    const newIndex5 = null;
    const newIndex10 = null;
    const newIndex10d = null;
    const newIndex10b3 = null;
    let newIndex10b4 = null;
    let number1 = false;
    let number2 = false;
    const newIndex10dd = null;  
            if (index50 === 0) {
                            //// WGRANIE MIEJSCA NA DRUGĄ LEKCJĘ
    const indexDiv0b = indexDiv;
        tablica43b.push(indexDiv0b);
                     console.log('hej105b', index50);           

            przekazArgument0(tablica7[0], tablica3[2], undefined, true, tablica3[0], true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', indexDiv0, indexDiv0b, indexDiv0d, false, true, false);
            } else if (index50 === 0) {
ostatniaWartosc === 3;
}
   } else if (flagaPrzycisku2 && !flagaPrzycisku && (tablica10.length <= indexDivRange || tablica10.length === 0) && category === 'all' && ostatniaWartosc < 4 && ostatniaWartosc > 2 && !number) {
    const newIndex5 = null;
    const newIndex3 = null;
    const newIndex3b = null;
    const newIndex10 = null;
    const newIndex10d = null;
    const newIndex10b3 = null;
    let newIndex10b4 = null;
    let number1 = false;
    let number2 = false;
   let newIndex10dd = (indexDiv === indexDiv0b) ? 0 : indexDiv;
      console.log('hej230b', newIndex10dd);
                                  if (newIndex10dd === 0) {
                    showCombinedSentenceForLesson22b(
        number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
        buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
        startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, newIndex10dd, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
        lesson1PartLength, lesson2PartLength, lesson3PartLength,
        lesson1Sentences, lesson2Sentences, lesson3Sentences,
        lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
        lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
        cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
        lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
    );
            }
    if (newIndex10dd === 0) {

        showCombinedSentenceForLesson(
            number, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
            buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
            startIndex, newIndex, newIndex10, newIndex3, newIndex3b, newIndex10b3, newIndex10dd,
            indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
            lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences,
            lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
            lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
            cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
            lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
        );
        console.log('hej100vv', indexDiv0b);
            continue;
    }
}
console.log('hej100vvn', flagaPrzycisku, flagaPrzycisku2, number);
if (!flagaPrzycisku2 && flagaPrzycisku && (tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc < 3 && ostatniaWartosc > 1 && category === 'all' && number) {
console.log('hej111', number);
const newIndex5 = null;
const newIndex10 = null;
const newIndex10b3 = null;
let newIndex10b4 = null;
const newIndex3 = null;
const newIndex3b = null;
let number1 = false;
let number2 = false;
let newIndex10d = (indexDiv === indexDiv0) ? 0 : indexDiv;
console.log('hej107', indexDiv0);
if (newIndex10d === 0) {
    /// USUNIĘCIE PIERWSZEJ MINIATURY
                showCombinedSentenceForLesson22b(
            number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
            buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
            startIndex, newIndex, newIndex5,  newIndex10, newIndex10b3, newIndex10b4, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
            lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences,
            lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
            lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
            cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
            lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
        );
}
            if (newIndex10d === 0) {
    const currentIndexDiv = indexDiv;
    setTimeout(() => {
        tablica43.push(currentIndexDiv);
            }, 0);
/// WSTAWIENIE PIERWSZEJ LEKCJI PRZY ARBU WORLD
            showCombinedSentenceForLesson(
                number, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
                buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
                startIndex, newIndex, newIndex10, newIndex3, newIndex3b, newIndex10b3, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
                lesson1PartLength, lesson2PartLength, lesson3PartLength,
                lesson1Sentences, lesson2Sentences, lesson3Sentences,
                lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
                lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
                cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
                lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
            );

    tablica55.push(true);
            }
            } else if ((tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc < 4 && ostatniaWartosc > 2 && category === 'all' && number) {
                let number = true;
                let number1 = false;
                let number2 = false;
                const newIndex10 = null;
                    const newIndex10d = null;
                    const newIndex10b3 = null;
                    let newIndex10b4 = null;
                    const newIndex5 = null;
                const newIndex3 = (indexDiv === indexDiv0) ? 0 : indexDiv;
                console.log('hejhej511ff', indexDiv0);
                //////// DODANIE PIERWSZEJ MINIATURY
                    tablica55.push(true);
if (index50 === 0) {
                            //// WGRANIE MIEJSCA NA DRUGĄ LEKCJĘ
    const indexDiv0b = indexDiv;
        tablica43b.push(indexDiv0b);
                                

            przekazArgument0(tablica7[0], tablica3[2], undefined, true, tablica3[0], true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', indexDiv0, indexDiv0b);
            } else if (index50 === 0 && tablica55[1] === true) {
ostatniaWartosc === 4;
}
                                console.log('hejhej54', newIndex3);
            if (newIndex === 0 && !buttonindex) {
                            //// WGRANIE MIEJSCA NA DRUGĄ LEKCJĘ
    const indexDiv0b = indexDiv;
        tablica43b.push(indexDiv0b);
                                console.log('hejhej51', tablica43b[tablica43b.length - 1]);

            przekazArgument0(tablica7[0], tablica3[2], undefined, false, tablica3[0], true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', indexDiv0, indexDiv0b);
            }
        
                    } else if ((tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc < 5 && ostatniaWartosc > 3 && category === 'all' && number) {
                            let number = true;
                            let number1 = false;
                            let number2 = false;
                            numberb = true;
                            const newIndex10d = null;
                            const newIndex10b3 = null;
                            let newIndex10b4 = null;
                            let newIndex5;
                            const newIndex3 = null;
const newIndex3b = null;
                let newIndex10b = (indexDiv === indexDiv0) ? 0 : indexDiv;
                let newIndex10 = (indexDiv === indexDiv0b) ? 0 : indexDiv;
                                            console.log('hejhej511pomijane', indexDiv0);
                                            console.log('hejhej511v', indexDiv0b);
                /// USUNIĘCIE DRUGIEJ MINIATURY
                            if (newIndex10b === 0) {
                    showCombinedSentenceForLesson22b(
        number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
        buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
        startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
        lesson1PartLength, lesson2PartLength, lesson3PartLength,
        lesson1Sentences, lesson2Sentences, lesson3Sentences,
        lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
        lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
        cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
        lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
    );
            }
                        if (newIndex10 === 0) {
                                const currentIndexDiv = indexDiv;
    setTimeout(() => {
        tablica43.push(currentIndexDiv);
            }, 0);
                tablica55.push(true);
/// PRODUKCJA DRUGIEJ LEKCJI
            showCombinedSentenceForLesson(
                number, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
                buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
                startIndex, newIndex, newIndex10, newIndex3, newIndex3b, newIndex10b3, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
                lesson1PartLength, lesson2PartLength, lesson3PartLength,
                lesson1Sentences, lesson2Sentences, lesson3Sentences,
                lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
                lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
                cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
                lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
            );

    continue;
            }

                        } else if ((tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc < 6 && ostatniaWartosc > 4 && category === 'all') {
                                                        let number = true;
                            let number1 = false;
                            let number2 = false;
                            let newIndex5;
                            let newIndex10d = null;
                            const newIndex10b = null;
                            const newIndex10b3 = null;
                            let newIndex10b4 = null;
                            const newIndex3b = (indexDiv === indexDiv0) ? 0 : indexDiv;
tablica55.push(true);

                                            tablica55.push(true);
                                            console.log('hejhej511', indexDiv0);
if (index50 === 0) {
                            //// WGRANIE MIEJSCA NA TRZECIĄ LEKCJĘ
    const indexDiv0b = indexDiv;
        tablica43b.push(indexDiv0b);
                                console.log('hejhej51', tablica43b[tablica43b.length - 1]);

            przekazArgument0(tablica7[0], tablica3[2], undefined, true, tablica3[0], true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', indexDiv0, indexDiv0b);
            } else if (index50 === 0 && tablica55[3] === true) {
ostatniaWartosc === 6;
}
            
            if (newIndex === 0 && !buttonindex) {
                            //// WGRANIE MIEJSCA NA TRZECIĄ LEKCJĘ
    const indexDiv0b = indexDiv;
        tablica43b.push(indexDiv0b);
                                console.log('hejhej51', tablica43b[tablica43b.length - 1]);

            przekazArgument0(tablica7[0], tablica3[2], undefined, false, tablica3[0], true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', indexDiv0, indexDiv0b);
            }
                        } else if ((tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc > 5 && ostatniaWartosc < 7) {
console.log('hej122', ostatniaWartosc);
                                let number = true;
                            let number1 = false;
                            let number2 = false;
                            numberb = true;
                            const newIndex10b = null;
                            let newIndex5;
                            let newIndex10d = null;
                            let newIndex10 = null;
                            let newIndex10b4 = null;
                            const newIndex3 = null;
                            const newIndex3b = null;
                                            let newIndex10b2 = (indexDiv === indexDiv0) ? 0 : indexDiv;
                                                        let newIndex10b3 = (indexDiv === indexDiv0b) ? 0 : indexDiv;
                                                        console.log('hejhej511tutaj ma się wgrywać usunięcie trzeciej', indexDiv0);
                                                        console.log('hejhej511v', indexDiv0b);
                                                                    /// USUNIĘCIE TRZECIEJ MINIATURY
if (newIndex10b2 === 0) {
        console.log('wykonuje się 88 (opóźnione)');
        showCombinedSentenceForLesson22b(
            number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
            buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
            startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
            lesson1PartLength, lesson2PartLength, lesson3PartLength,
            lesson1Sentences, lesson2Sentences, lesson3Sentences,
            lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
            lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
            cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
            lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
        );
}
                        if (newIndex10b3 === 0) {
                                const currentIndexDiv = indexDiv;
    setTimeout(() => {
        tablica43.push(currentIndexDiv);
            }, 0);
/// PRODUKCJA TRZECIEJ LEKCJI (I NASTĘPNEJ)
            showCombinedSentenceForLesson(
                number, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
                buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
                startIndex, newIndex, newIndex10, newIndex3, newIndex3b, newIndex10b3, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
                lesson1PartLength, lesson2PartLength, lesson3PartLength,
                lesson1Sentences, lesson2Sentences, lesson3Sentences,
                lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
                lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
                cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
                lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
            );
        tablica55.push(true);
            continue;
            }

        } else if ((tablica10.length <= indexDivRange || tablica10.length === 0) && ostatniaWartosc < 8 && ostatniaWartosc > 6 && category === 'all') {
                                                        let number = true;
                                                        
                            let number1 = false;
                            let number2 = false;
                            let newIndex5;
                            let newIndex10d = null;
                            let newIndex10b3 = null;
                            
                            let newIndex10 = null;
tablica55.push(true);
                let newIndex10b4 = (indexDiv === indexDiv0b) ? 0 : indexDiv;
                console.log('hejhej511v', indexDiv0b);
                                            tablica55.push(true);
                                                        if (newIndex10b4 === 0) {
                            number2 = true;
                                /// WSTAWIENIE TRZECIEJ MINIATURY
                    showCombinedSentenceForLesson22b(
        number1, number2, selectedCategory, matchingIndexes3, rodzaj, matchingIndexes2,
        buttonindex, index50, lessonId1, lessonId2, lessonId3, fiszki, matchingIndexes,
        startIndex, newIndex, newIndex5, newIndex10, newIndex10b3, newIndex10b4, indexDiv, indexDiv0, indexDiv0b, indexDiv0d, newIndex10d, lessonsArray,
        lesson1PartLength, lesson2PartLength, lesson3PartLength,
        lesson1Sentences, lesson2Sentences, lesson3Sentences,
        lesson1FirstPartLength, lesson2FirstPartLength, lesson3FirstPartLength,
        lesson1SecondPartLength, lesson2SecondPartLength, lesson3SecondPartLength,
        cumulativeFirstPartLength1, cumulativeFirstPartLength2, cumulativeFirstPartLength3,
        lessonsArrayZ, matchingLessons5, matchingLessons5b, isSearching
    );
            } 
                    }
                    }
                        console.log('Aktualna zawartość tablicy lessonsArray:', lessonsArray);
                        const numberOfContainers = $('.image-container3').length;
                        console.log('Liczba dodanych divów:', numberOfContainers);
                    }
                }

                if (czas === 'zdania' && czas !== 'fiszki' && !isSearching) {
                    $('.grid-container .image-container3b').remove();
                    $('.grid-container .image-container3').remove();
                    $('.grid-container .image-container5').remove();
                    // Wyświetl pojedyncze zdania dla znalezionych lekcji
                    console.log('Warunek czas === "fiszki" jest spełniony');

                    if (myVariable.length > 1) {
                        // Inicjuj flagę dla wystąpienia zera
                        let zeroWylosowane = false;
                        // Losowy indeks, w którym pojawi się zero
                        let indexDiv = 0;
                        // Zmienna do kumulowania długości zdań
                        let previousCumulativeFirstPartLength3 = 0;  // Przechowywanie poprzedniej kumulacji dla lesson3
                        let cumulativeFirstPartLength1 = 0;
                        let cumulativeFirstPartLength2 = 0;
                        let cumulativeFirstPartLength3 = 0;

                        // Wyświetl fiszki dla każdej znalezionej pary lekcji
                        let startIndex = 0; // Zainicjuj startIndex poza pętlą
                        const lengthDividedByThree = myVariable.length;
                        let indices2 = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices2.push(i);
                        }
                        let indices = [];
                        for (let i = 1; i <= lengthDividedByThree; i++) {
                            indices.push(i);
                        }
// Losowanie indeksu, który będzie miał wartość 0
                        const zeroIndex = Math.floor(Math.random() * (indexes.length)); // +1 aby uwzględnić dodanie zera na końcu
                        indexes[zeroIndex] = 0;

// Sprawdź czy tablica indexes zawiera zero

                        let shouldInsertNumbers = indexes.includes(0);

                        if (shouldInsertNumbers) {
                            let firstValue = indexes.length > 0 ? indexes[0] : 0;

                            // Utworzenie tablicy do wstawienia przed indexes, jeśli obie wartości nie są zerami
                            if (firstValue !== 0) {
                                let numbersToInsert = [];
                                for (let i = 1; i < firstValue; i++) {
                                    numbersToInsert.push(i);
                                }

                                // Wstawienie numbersToInsert przed indexes
                                indexes = [...numbersToInsert, ...indexes];
                            }
                        }

// Wyświetlenie zaktualizowanej tablicy indexes
                        console.log('Aktualizowane indeksy:', indexes);

                        const zeroIndex2 = index55 - 1;
                        // Wstawienie 0 na wylosowane miejsce
                        indices2[zeroIndex2] = 0;
                        console.log('hej166');
                        let indices3 = [];
                        // Inicjalizacja tablicy indices2 jako pustej tablicy
                        if (idpolski) {
                            for (let i = 1; i <= lengthDividedByThree; i++) {
                                // Dodawanie wartości true do tablicy indices2 dla każdej iteracji
                                indices3.push(true);
                            }
                            console.log('indices3:', indices3);
                        }
                        losowaniaCounter++; // Inkrementuj licznik przy każdym wywołaniu
                        tablica33b.push(losowaniaCounter2); // Dodaj zaktualizowany licznik do tablicy
                        console.log('hej1113', tablica33b); // Wyświetl zawartość tablicy
                        for (let i = 0; i < myVariable.length; i += 1) {
                            indexDiv++;
                            const lessonId1 = myVariable[i];
                            const newIndex = indexes[Math.floor(i)];
                            const index50 = indices2[Math.floor(i)];
                            const polski = idpolski ? indices3[i % indices3.length] : false;
                            console.log(`Iteration ${i}: polski =`, polski);

                            console.log('hej16d', myVariable[i]);
                            // Dodanie wartości true dla każdego lessonId w polski


                            // Znajdź długości drugiej części zdania dla każdej lekcji
                            const lesson1PartLength = partLengths3.find(item => item.id === lessonId1)?.cumulativeCount || 0;

                            // Obliczanie skumulowanych długości
                            cumulativeFirstPartLength1 += lesson1PartLength;

                            const cumulativeTotalFirstPartLength1 = cumulativeFirstPartLength1;

                            // Aktualizacja poprzedniej wartości skumulowanej dla następnej iteracji
                            previousCumulativeFirstPartLength3 = cumulativeFirstPartLength3;

                            const lessonObjectA = {
                                lessonId1: lessonId1,
                                index50: index50,
                                newIndex: newIndex,
                                lesson1PartLength: lesson1PartLength,
                                indexDiv: indexDiv,
                                polski: polski
                            };

                            // Dodawanie obiektu do tablicy lekcji
                            lessonsArrayA.push(lessonObjectA);
                            console.log('hej3334', lessonObjectA);


                            // Zwiększ startIndex o 7 za każdym razem, gdy funkcja iteruje
                            console.log('hej558', lessonsArrayA);
                            console.log('hej40', newIndex); // Wyświetl wartość startIndex
                            console.log('wykonuje się 7');
                            console.log('hej323', index55);

                            console.log('hej344');
                            // Zwiększenie licznika losowań
                            console.log('Liczba losowań:', losowaniaCounter); // Dodano log licznika losowań

                            // Sprawdzenie, czy osiągnięto limit losowań
                            if (losowaniaCounter >= 7) {
                                console.log('Osiągnięto 7 losowań, wyświetlam powiadomienie');
                                powiadomienieCounter++; // Zwiększenie licznika powiadomień

                                if (confirm('Osiągnięto 7 losowań. Czy chcesz kontynuować losowania?')) {
                                    console.log('Użytkownik potwierdził dalsze losowania');
                                    losowaniaCounter = 0; // Zresetowanie licznika losowań
                                } else {
                                    console.log('Użytkownik przerwał dalsze losowania');
                                    break; // Przerwanie pętli, jeśli użytkownik nie chce kontynuować
                                }
                            }
                            if ((tablica15.length <= 57 || tablica15.length === 0)) {
                                console.log('wykonuje się 8');

                                showCombinedSentenceForLesson2(isSearching, selectedCategory, polski, index50, matchingIndexes, lessonId1, newIndex, indexDiv, lesson1PartLength, matchingLessons5b);
                                console.log('hej321', polski);
                            }
                        }
                    }
                }

            }
            </script>
                                <script src="start/miniatury-prezentacja.js"></script>
                                    <script src="nowydzialajacy.js"></script>
                    <script src="displayx3.js"></script>
                                        <script src="displayx3category.js"></script>

                    <script>
            
                    
</script>

        <script src="displayx1.js"></script>
                <script src="showCombinedSentenceForLesson5.js"></script>
    <script>                   
            function wybierzTematyke(tematyka) {
                console.log("Wybrana ulubiona tematyka fiszek: " + tematyka);
                // Dodaj logikę lub akcje związane z wyborem tematyki fiszek.
            }

            function wplecUlubioneFiszki() {
                console.log("Wpływaj ulubione fiszki!");
                // Dodaj logikę lub akcje związane z wpleceniem ulubionych fiszek.
            }
            let visibleIndexes = [];
            let previousVisibleIndexes = [];
            let countVisibleContainersCalled = false;
            let timeoutId = null;
            let scrollTimeoutId = null;  // Nowy timeout dla scrollowania
            let lastChangeTime = 0;
            let isFirstCall = true;


            function countVisibleContainers() {
                console.log('hej124', isVideoPlaying);
                // Sprawdź, czy wideo jest odtwarzane i widoczne
                if (isVideoPlaying && currentVideoElement && isVideoVisible(currentVideoElement)) {
                    return; // Nie wykonuj nic, jeśli wideo jest odtwarzane i widoczne
                }
                indexes = [];

                $('.grid-container .image-container4').each(function (index) {

                    const containerRect = this.getBoundingClientRect();
                    const isVisible = (
                            containerRect.top >= 0 &&
                            containerRect.left >= 0 &&
                            containerRect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                            containerRect.right <= (window.innerWidth || document.documentElement.clientWidth)
                            );

                    if (isVisible) {
                        indexes.push(index + 1); // Dodanie +1, aby indeksy zaczynały się od 1
                    }
                });

                // Jeśli to pierwsze wywołanie, uruchom od razu
                if (isFirstCall && indexes.length) {
                    isFirstCall = false;
                    console.log('Aktualne widoczne indeksy:', indexes);
                    otherFunction(indexes);
                }

                // Obliczenie czasu od ostatniej zmiany
                const currentTime = Date.now();
                const elapsedTime = currentTime - lastChangeTime;

                // Zresetuj losowanie previousVisibleIndexes przy każdym scrollowaniu, ale losuj tylko raz
                if (!scrollTimeoutId) {
                    previousVisibleIndexes = [...indexes]; // Losowanie once
                }
if (window.matchMedia("(min-width: 999px)").matches) {
                // Jeśli warunek jest spełniony i poprzedni timeout nie istnieje
                if (indexes.length >= 8 && !hasPreviousIndexesBeenSet) {
                    if (timeoutId) {
                        clearTimeout(timeoutId); // Wyczyść poprzedni timeout, jeśli istnieje
                    }
                    // Ustaw timeout na 2 sekundy po zatrzymaniu scrollowania
                    timeoutId = setTimeout(() => {
                        previousVisibleIndexes = [...indexes]; // Losowanie
                        hasPreviousIndexesBeenSet = true;
                        console.log('Aktualne widoczne indeksy:', indexes);
                        otherFunction(indexes);
                        timeoutId = null; // Resetuj timeoutId po wykonaniu funkcji
                    }, 200); // Czekaj 2 sekundy od ostatniego scrollowania
                }
                } else if (window.matchMedia("(max-width: 999px)").matches) {
                                    // Jeśli warunek jest spełniony i poprzedni timeout nie istnieje
                if (indexes.length >= 10 && !hasPreviousIndexesBeenSet) {
                    if (timeoutId) {
                        clearTimeout(timeoutId); // Wyczyść poprzedni timeout, jeśli istnieje
                    }
                    // Ustaw timeout na 2 sekundy po zatrzymaniu scrollowania
                    timeoutId = setTimeout(() => {
                        previousVisibleIndexes = [...indexes]; // Losowanie
                        hasPreviousIndexesBeenSet = true;
                        console.log('Aktualne widoczne indeksy:', indexes);
                        otherFunction(indexes);
                        timeoutId = null; // Resetuj timeoutId po wykonaniu funkcji
                    }, 200); // Czekaj 2 sekundy od ostatniego scrollowania
                }
                }

                // Aktualizacja czasu ostatniej zmiany
                lastChangeTime = currentTime;
            }

            let debounceTimer;

            $(window).on('scroll', function () {
                // Jeśli istnieje aktywny timer, anuluj go
                clearTimeout(debounceTimer);
                hasPreviousIndexesBeenSet = false;
                // Ustaw nowy timer
                debounceTimer = setTimeout(function () {
                    console.log('hej5432');
                    // Wywołanie funkcji po zakończeniu przewijania

                }, 1000); // Czas w milisekundach, po którym funkcja zostanie wywołana
            });

// Funkcja otherFunction z przekazanymi indeksami
            function otherFunction(indexes) {

                console.log('Przekazane indeksy do otherFunction:', indexes);
                console.log('wywołana');
                przekazArgument0(tablica3[2], undefined, false, 'zdania', false, false, tablica3[1], tablica3[4]);
            }
            document.addEventListener("DOMContentLoaded", () => {
                // Pobierz userAgent przeglądarki
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;

                // Warunki sprawdzające czy aplikacja to Messenger lub Facebook
                const isFacebookMessenger = /FBAN|FBAV|Messenger/i.test(userAgent);

                // Jeśli wykryto, że strona jest otwierana z Messengera
                if (isFacebookMessenger) {
                    alert("Wykryto, że przeglądasz stronę w Messengerze. Dla pełnej funkcjonalności zalecamy otwarcie strony w przeglądarce, np. Chrome.");

                    // Dodanie sugestii z przyciskiem do otwarcia strony w przeglądarce
                    const suggestion = document.createElement('div');
                    suggestion.innerHTML = `
            <div style="position: fixed; top: 20px; left: 20px; right: 20px; background: rgba(255, 255, 255, 0.9); padding: 15px; border: 1px solid #ccc; z-index: 9999; border-radius: 5px;">
                <p style="font-size: 16px; color: #333;">Aby w pełni korzystać ze strony, otwórz ją w przeglądarce Chrome.</p>
                <button id="openInChrome" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Otwórz w Chrome</button>
            </div>
        `;
                    document.body.appendChild(suggestion);

                    // Obsługa kliknięcia przycisku
                    document.getElementById('openInChrome').addEventListener('click', () => {
                        // Otwórz stronę w zewnętrznej przeglądarce
                        window.open(window.location.href, '_blank');
                    });
                }
            });
            ustawTryb('fiszki');
            flagaPrzycisku2[0] = true;
                flagaPrzycisku[0] = false;
                const number = false;
                    console.log('hej110b', number, flagaPrzycisku, flagaPrzycisku2);
                    przekazArgument0(tablica7[0], tablica3[2], '', false, 'fiszki', true, true, tablica3[1], tablica3[4], false, '', '', '', '', '100', '', '', '', false, true, false); 

// Zmierz czas na początku ładowania skryptu
const startTime = performance.now();

// Funkcja do wyświetlenia czasu po załadowaniu strony
window.onload = function() {
    const endTime = performance.now();
    const loadTime = endTime - startTime; // czas ładowania w milisekundach
    console.log(`Czas ładowania strony: ${loadTime.toFixed(2)} ms`);
};
        </script>
<div id="adblockMessage">
  Dla rozwoju projektu proszę Cię o wyłączenie AdBlocka 🙏 Dziękuję!
  <button onclick="closeAdblockMessage()">X</button>
</div>
        <script id="demoScript" data-category=""></script>
    </body>
</html>